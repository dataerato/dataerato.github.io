(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[49],{109:function(t,e,a){"use strict";a.r(e);var n=a(79),l=a(75),r=a(11),i=a(5);e.default=function(t){var e=t.info,a=t.info.values.map((function(t){return t.replace(",","")})),s=[],o=new Map;o.clear();var p=e.values.sort((function(t,e){return parseFloat(t)-parseFloat(e)}));p=p.map((function(t){return parseFloat(t)}));for(var c=parseFloat((Math.max.apply(Math,Object(r.a)(p))-Math.min.apply(Math,Object(r.a)(p)))/20),u=0;u<20;u++)o.set(u,0);for(u=0;u<p.length-1;u++){var d=parseInt((p[u]-Math.min.apply(Math,Object(r.a)(p)))/c);o.set(d,o.get(d)+1)}o.set(19,o.get(19)+1);var f,h=Object(l.a)(o);try{for(h.s();!(f=h.n()).done;){var v=Object(n.a)(f.value,2),x=v[0],y=v[1],m={};m.index=x,m.value=y,s.push(m)}}catch(C){h.e(C)}finally{h.f()}var b=0,g=0,M=0,I=0,j=196-I-g,w=36-b-M,F=i.scaleBand().range([0,j]),O=i.scaleLinear().range([w,0]);F.domain(s.map((function(t){return t.index}))),O.domain([0,Math.max.apply(Math,Object(r.a)(o.values()))]);var L=i.brushX().extent([[0,0],[j,w]]).on("brush",(function(){if(i.select(".xBrushInit").remove(),!i.event.selection)return;null===i.event.selection&&(i.event.selection=[0,j]);var e,n,l=null;0===(l=F.domain().filter((function(t){return i.event.selection[0]<=F(t)&&F(t)<=i.event.selection[1]}))).length&&(l=F.domain().filter((function(t){return i.event.selection[0]<=F(t)})));i.event.selection[0]!=i.event.selection[1]?1===l.length?(e=l[0],n=l[0]+1):(e=l[0],n=l[l.length-1]):(e=0,n=s.length);s.slice(e,n);var o=(n+1)*c+Math.min.apply(Math,Object(r.a)(p)),u=(0===e?0:e-1)*c+Math.min.apply(Math,Object(r.a)(p)),d=a.filter((function(t){return t>=u&&t<=o}));i.selectAll("#"+t.id+"minValue").remove(),i.selectAll("#"+t.id+"maxValue").remove();var f=i.select("#"+t.id).append("div").attr("class","textpostion");f.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","left").text(u.toFixed(2)).attr("id",t.id+"minValue"),f.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","right").text(o.toFixed(2)).attr("id",t.id+"maxValue");var h=t.filters;h[t.filterIndex].value=d,h[t.filterIndex].type="equal",h[t.filterIndex].value1=[u,o],h[t.filterIndex].brushLocation=[i.event.selection[0],i.event.selection[1]],t.updateFiltersChangeFlag(!0)})),V=i.select("#"+t.id).append("svg").attr("width",j+I+g).attr("height",w+b+M);V.append("rect").attr("width",j).attr("height",w).attr("x","0").attr("y","0").attr("fill","#f0f0f0");var B=V.append("g").attr("class","context");!function(t,e){var a=i.scalePow().range([t.length/10,0]).domain([t.length,0]).exponent(.5),n=e[1]-e[0];0===n&&(n=j);var l=Math.ceil(Math.abs(a(n)));t.filter((function(t,e){return e%l===0})).map((function(t){return t.index}))}(s,[0,j]),B.selectAll(".subBar").data(s).enter().append("rect").classed("subBar",!0).attr("height",(function(t){return w-O(t.value)})).attr("width",(function(t){return F.bandwidth()})).attr("x",(function(t){return F(t.index)})).attr("y",(function(t){return O(t.value)})).attr("fill","#777"),B.append("g").attr("class","x brush").call(L).selectAll("rect").attr("y",0).attr("width",j).attr("height",w);var z=void 0==t.filters[t.filterIndex].brushLocation?0:t.filters[t.filterIndex].brushLocation[0],A=void 0==t.filters[t.filterIndex].brushLocation?196:t.filters[t.filterIndex].brushLocation[1];0===z&&196===A||B.append("rect").attr("class","xBrushInit").call(L).attr("x",z).attr("y",0).attr("width",A-z).attr("height",w);var k=i.select("#"+t.id).append("div").attr("class","textpostion"),J=void 0==t.filters[t.filterIndex].value1?Math.max.apply(Math,Object(r.a)(a)):t.filters[t.filterIndex].value1[1],q=void 0==t.filters[t.filterIndex].value1?Math.min.apply(Math,Object(r.a)(a)):t.filters[t.filterIndex].value1[0];return k.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","left").text(q.toFixed(2)).attr("id",t.id+"minValue"),k.append("span").style("position","relative").style("bottom","60px").style("font-size","9px").style("float","right").text(J.toFixed(2)).attr("id",t.id+"maxValue"),V}}}]);
//# sourceMappingURL=49.1fbeeb6d.chunk.js.map