{"version":3,"sources":["constant/FactType.js","action/type.js","tool/getSuitableBreakdownList.js","view/FactEditor/helper.js","pages lazy /^/.*$/ groupOptions: {} namespace object","reducer/story.js","reducer/user.js","reducer/vis.js","reducer/index.js","store.js","components/LazyLoadingView/LazyLoading.js","components/LazyLoadingView/index.js","App.js","serviceWorker.js","index.js","constant/RelationType.js","constant/FieldType.js","constant/ChartType.js","tool/datafilter.js","tool/fact2visAllRule.js","tool/fact2visRule.js","tool/getSupportedChartTypes.js","sentencer/fact-templates/association.js","sentencer/fact-templates/categorization.js","sentencer/fact-templates/difference.js","sentencer/fact-templates/distribution.js","sentencer/fact-templates/extreme.js","sentencer/fact-templates/outlier.js","sentencer/fact-templates/proportion.js","sentencer/fact-templates/rank.js","sentencer/fact-templates/trend.js","sentencer/fact-templates/value.js","sentencer/fact-templates/index.js","sentencer/fact-templates-zh/association.js","sentencer/fact-templates-zh/categorization.js","sentencer/fact-templates-zh/difference.js","sentencer/fact-templates-zh/distribution.js","sentencer/fact-templates-zh/extreme.js","sentencer/fact-templates-zh/outlier.js","sentencer/fact-templates-zh/proportion.js","sentencer/fact-templates-zh/rank.js","sentencer/fact-templates-zh/trend.js","sentencer/fact-templates-zh/value.js","sentencer/fact-templates-zh/index.js","sentencer/relation-templates/similarity.js","sentencer/relation-templates/contrast.js","sentencer/relation-templates/temporal.js","sentencer/relation-templates/cause-effect.js","sentencer/relation-templates/elaboration.js","sentencer/relation-templates/generalization.js","sentencer/relation-templates/index.js","sentencer/index.js","constant/OperationType.js","tool/fact2vis.js","constant/AggregationType.js","constant/ConvertType.js","action/userAction.js","constant/LayoutType.js","Chart.js"],"names":["VALUE","TREND","CATEGORIZATION","DIFFERENCE","PROPORTION","DISTRIBUTION","RANK","ASSOCIATION","EXTREME","OUTLIER","UPLOAD_DATA","CONNECT_DATA","CHANGE_DATA","VISUALIZE_DATA","UPDATE_DATA_URL","ADD_FACT","INSERT_FACT","INSERT_RECOMMENDEDFACT","UPDATE_FACT","DELETE_FACT","DELETE_UNUSEDFACT","ORDER_FACTS","SET_HOVER_INDEX","UPDATE_FILTERS","UPDATE_FILTERS_TITLE","UPDATE_DATARES","UPDATE_SCHEMA_FILTER","UPDATE_FILTERS_CHANGE_FLAG","CHANGE_CURRENT_EDITING","UPDATE_FILTERS_LOCAL","UPDATE_PANNEL_WIDTH","INIT_FACT","INIT_RELATION","SELECT_FACT","CHANGE_METHOD","SET_STORY_PARAMETER","SET_AGGREGATION_LEVEL","SET_REWARD_WEIGHT","GENERATE_STORY","CHANGE_TITLE","CHANGE_SUBTITLE","UPDATE_STORY_CARD_NUMBER","UPDATE_COMMENT_STORY_INFO","UPDATE_UUID","UPDATE_PROGRESS","EXPORT_PDF","CHANGE_TO_ANIMATION","CHANGE_ALGORITHM","ADD_SFACT","ADD_EFACT","ADD_MFACT","DELETE_SFACT","DELETE_EFACT","DELETE_MFACT","OPTIMIZE_LAYOUT","INSERT_EMPTY_FACT","INSERT_INTERPOLATED_FACTS","CHANGE_INTERPOLATIONFLAG","UNDO","REDO","UPDATE_USER_INFO","UPDATE_USER_OPERATION","UPDATE_CONVERT_TYPE","UPDATE_LOCALE","UPDATE_COLLAPSED","UPDATE_LEFT_COLLAPSED","UPDATE_HEADERBAR_TOGGLE","OPEN_LEFT_FOLAT_MENUE","UPDATE_CLICKED_MENUE","CHANGE_LAYOUT_TYPE","CHANGE_USEREND","WINDOW_UP_SCROLL","UPDATA_USER_END_SIZE","IS_HIDDEN_INDEX_LEFT_MENUE","IS_HIDDEN_COMMENT_STORY","UPDATE_LAST_PAGE","UPDATE_SID","SHARE_STORY","IS_GENERATE_STORY","TO_NEW_PAGE","IS_CLICKED_LOGOUT","LEAVE_CREATE_PAGE","IS_INTERRUPT_PROCESS","CHANGE_FACTSHEET_LAYOUT_TYPE","UPDATE_VIS_CONTAINER_SIZE","getSuitableBreakdownList","factType","chartType","schema","suitableBreakdownList","fact2visAllRules","filter","x","fact","chart","length","breakdownSets","Set","forEach","breakdownType","type","add","breakdownList","Array","from","s","indexOf","isValid","FactType","measure","groupby","focus","customizeFact","data","newFact","Object","assign","groupbyList","field","measureList","key","push","gbValueList","getFieldValue","value","encoding","aggregate","filteredData","datafilter","subspace","aggregatedRows","getAggregatedRows","measureField","max","reduce","a","b","extremeFocus","extremeValue","newOrder","sort","y","map","d","newOrderValue","n","posQ3","parseInt","posQ1","decimalQ3","decimalQ1","Q3","Q1","Low","Up","outlierIndex","i","groupbyFieldList","getMaxRows","rawData","d3","entries","index","values","aggregation","calculateData","sumData","fill","sumRows","getSumRows","getAverageRows","getMinRows","countData","countRows","getCountRows","fieldName","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","t","keys","module","exports","uuid","localStorage","getItem","JSON","parse","sessionStorage","plur","require","convertField","param","gb","gbWords","split","gbWordIndex","plurWord","replace","initialState","fileName","real_filename","title","subtitle","method","facts","unusedFacts","relations","hoverFactIndex","selectedFactIndex","maxStoryLength","timeLimit","information","resultCoverage","chartDiversity","aggregationLevel","rewardWeight","logicality","diversity","integrity","generateProgress","visData","historyStory","isExportPdf","generateUrl","filters","filtersTitle","datares","schemaFilter","filtersChangeFlag","editstate","editingCurrentFact","filtersLocal","filtersTitleLocal","dataresLocal","schemaFilterLocal","leftPaneWidth","rightPaneWidth","filtersOrigin","filtersTitleOrigin","animationFlag","animationType","algorithm","calSimilarityType","maximumFact","recommendedSfacts","recommendedEfacts","recommendedMfacts","layoutFlag","interpolationFlag","specIndex","timeline","userInfo","Cookies","get","username","uid","isLogin","operateState","OperationType","BEFORE_UPLOAD","convertType","ConvertType","FACTSHEET","currentLocale","clickedMenue","isCollapsed","isLeftCollapsed","updateHeaderbarToggle","isOpenLeftFloatMenue","layoutType","LayoutType","isMobilephoneEnd","windowUpScroller","userEndSize","userEnd","cardNumber","isHiddenCommentAStory","lastPage","OperateRelatedId","isShareStory","isShowGenerate","newPage","isToLogout","isLeaveCreatePage","isInterruptProcess","factsheetLayoutType","containerSize","combineReducers","story","newFacts","newFactsCopy","specIndex1","state","action","newState","ActionType","storyRelations","storyFacts","concat","_","cloneDeep","splice","newUnusedFacts","insert","item","newFact1","factLocation","sourceIndex","moved","destinationIndex","facts2charts","level","newWeight","coverage","Number","totalLength","currentLength","toFixed","emptyFact","interpolatedFacts","unshift","prototype","apply","genTitle","Math","min","subStorytitle","filtersTitleCore","storyParameter","historyfacts","historyTitle","historySubtitle","historStoryParameter","historyAggregationLevel","historyResultCoverage","setItem","stringify","schemaNoTextID","dataclone","datares1","itemfield","item1","parseFloat","schemaFilter1","filtersField","filtersIndex","mean","median","std","var","dateres","user","isChangeToggle","isWindowUpScroll","isHidden","isLogOut","isLeaving","vis","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","thunk","store","createStore","rootReducer","applyMiddleware","configureStore","LazyLoading","this","props","isLoading","error","Component","Loading","url","Loadable","loader","loading","locales","App","initDone","initDefaultLang","lang","navigator","language","userLanguage","substr","loadLocales","intl","init","updateLocale","setState","MyRoute","MyComponent","rest","render","routerProps","onChangeLocaleListener","exact","path","React","connect","dispatch","userAction","Boolean","location","hostname","match","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","catch","console","message","SIMILARITY","ELABORATION","GENERALIZATION","CONTRAST","TEMPORAL","CAUSE","OTHERS","NUMERICAL","CATEGORICAL","GEOGRAPHICAL","Text","JUXTAPOSITION","AREA_CHART","VERTICAL_BAR_CHART","VERTICAL_DIFFERENCE_BAR_CHART","VERTICAL_DIFFERENCE_ARROW_CHART","HORIZONTAL_BAR_CHART","PROGRESS_BAR_CHART","STACKED_BAR_CHART","ISOTYPE_BAR_CHART","PROPORTION_ISOTYPE_CHART","COLOR_FILLING_MAP","BUBBLE_CHART","TEXT_CHART","LINE_CHART","STACKED_LINE_CHART","RING_CHART","HALF_RING_CHART","PIE_CHART","SCATTER_PLOT","TREE_MAP","BUBBLE_MAP","sub","ChartType","FieldType","fact2visRules","getSupportedChartTypes","supportedChartTypes","isEdit","breakDown","rules","rang","templates","pickFactTemplate","association","categorization","difference","distribution","extreme","outlier","proportion","rank","trend","floor","random","sentence","template","log","pickRelationTemplate","RelationType","similarity","contrast","cause","temporal","elaboration","generalization","convertAggregation","aggType","AggregationType","SUM","MAX","MIN","AVG","MEDIAN","COUNT","NONE","convertAggregationZH","convertMeasure","toLowerCase","convertGroupby","formatNum","num","number","floatNum","intNum","toString","substring","result","counter","join","genFactSubspace","toUpperCase","genFactSubspaceZh","genFactSentence","_fact","parameter","parameterList","focusValue","undefined","round","pickFactTemplateZh","genStoryText","storyText","pairLength","generatedScript","genSubtitle","UPLOADIND","UPLOADED","GENERATING","GENERATED","FAILED","FILE_LARGE","ADDING","ADD_FAILED","ADDED","PUBLISHED","shema","choiceCount","choicedChartTypes","getChoice","getFactChartType","getvischartype","fact2chart","specData","size","specFact","breakdown","specChart","style","duration","showSuggestion","specNew","spec","updateUserInfo","updateOperation","updateCovertType","changeLayOutType","changeUserEnd","updateUserEnd","shareStory","loadingGeneratingView","changeFactsheetLayoutType","STORYLINE_WEB","SLIDER_MOBILE","STORY_TEXT","TABLE","Chart","container","autovis","AutoVis","load","generate","height","width","margin"],"mappings":"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IAED,iCAAkC,CACjC,GACA,EACA,EACA,EACA,IAED,oCAAqC,CACpC,GACA,EACA,EACA,EACA,IAED,4BAA6B,CAC5B,GACA,EACA,EACA,EACA,IAED,6BAA8B,CAC7B,GACA,EACA,EACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,IAED,wCAAyC,CACxC,IACA,EACA,IAED,0CAA2C,CAC1C,IACA,EACA,IAED,kCAAmC,CAClC,GACA,EACA,EACA,EACA,IAED,qCAAsC,CACrC,GACA,EACA,EACA,EACA,IAED,4BAA6B,CAC5B,GACA,EACA,EACA,EACA,IAED,6BAA8B,CAC7B,GACA,EACA,EACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,IAED,wCAAyC,CACxC,IACA,EACA,IAED,0CAA2C,CAC1C,IACA,EACA,IAED,kCAAmC,CAClC,GACA,EACA,EACA,EACA,IAED,qCAAsC,CACrC,GACA,EACA,EACA,EACA,IAED,2BAA4B,CAC3B,GACA,EACA,EACA,EACA,EACA,EACA,IAED,4BAA6B,CAC5B,GACA,EACA,EACA,EACA,EACA,EACA,IAED,oCAAqC,CACpC,IACA,EACA,EACA,EACA,EACA,EACA,GAED,uCAAwC,CACvC,IACA,EACA,EACA,EACA,EACA,EACA,GAED,yCAA0C,CACzC,IACA,EACA,IAED,iCAAkC,CACjC,GACA,EACA,EACA,EACA,EACA,EACA,IAED,oCAAqC,CACpC,GACA,EACA,EACA,EACA,EACA,EACA,IAED,8BAA+B,CAC9B,GACA,EACA,EACA,EACA,EACA,EACA,GAED,+BAAgC,CAC/B,GACA,EACA,EACA,EACA,EACA,EACA,GAED,uCAAwC,CACvC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,0CAA2C,CAC1C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,4CAA6C,CAC5C,IACA,EACA,IAED,oCAAqC,CACpC,GACA,EACA,EACA,EACA,EACA,EACA,GAED,uCAAwC,CACvC,GACA,EACA,EACA,EACA,EACA,EACA,GAED,sBAAuB,CACtB,GACA,EACA,EACA,EACA,EACA,EACA,IAED,uBAAwB,CACvB,GACA,EACA,EACA,EACA,EACA,EACA,IAED,+BAAgC,CAC/B,IACA,EACA,GACA,IAED,kCAAmC,CAClC,IACA,EACA,GACA,IAED,+BAAgC,CAC/B,IACA,EACA,EACA,EACA,EACA,EACA,IAED,kCAAmC,CAClC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,4BAA6B,CAC5B,GACA,EACA,EACA,EACA,EACA,EACA,IAED,+BAAgC,CAC/B,GACA,EACA,EACA,EACA,EACA,EACA,IAED,iCAAkC,CACjC,IACA,EACA,IAED,0BAA2B,CAC1B,GACA,EACA,EACA,EACA,EACA,EACA,GAED,2BAA4B,CAC3B,GACA,EACA,EACA,EACA,EACA,EACA,GAED,mCAAoC,CACnC,IACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,IAED,mCAAoC,CACnC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,mCAAoC,CACnC,IACA,EACA,EACA,EACA,EACA,EACA,GAED,sCAAuC,CACtC,IACA,EACA,EACA,EACA,EACA,EACA,GAED,0CAA2C,CAC1C,IACA,EACA,EACA,EACA,EACA,GACA,IAED,6CAA8C,CAC7C,IACA,EACA,EACA,EACA,EACA,GACA,IAED,gCAAiC,CAChC,GACA,EACA,EACA,EACA,EACA,EACA,GAED,mCAAoC,CACnC,GACA,EACA,EACA,EACA,EACA,EACA,GAED,qCAAsC,CACrC,IACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,IAED,wCAAyC,CACxC,IACA,EACA,IAED,6BAA8B,CAC7B,GACA,EACA,EACA,EACA,EACA,EACA,GAED,8BAA+B,CAC9B,GACA,EACA,EACA,EACA,EACA,EACA,GAED,+CAAgD,CAC/C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,kDAAmD,CAClD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,+CAAgD,CAC/C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,kDAAmD,CAClD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,IAED,yCAA0C,CACzC,IACA,EACA,IAED,+CAAgD,CAC/C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,kDAAmD,CAClD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,yCAA0C,CACzC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,6CAA8C,CAC7C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,gDAAiD,CAChD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,yCAA0C,CACzC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,iDAAkD,CACjD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,oDAAqD,CACpD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,6CAA8C,CAC7C,IACA,EACA,EACA,EACA,EACA,GACA,IAED,gDAAiD,CAChD,IACA,EACA,EACA,EACA,EACA,GACA,IAED,4CAA6C,CAC5C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,+CAAgD,CAC/C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,+CAAgD,CAC/C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,kDAAmD,CAClD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,2CAA4C,CAC3C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,8CAA+C,CAC9C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,mCAAoC,CACnC,GACA,EACA,EACA,EACA,EACA,EACA,GAED,sCAAuC,CACtC,GACA,EACA,EACA,EACA,EACA,EACA,GAED,wCAAyC,CACxC,IACA,EACA,IAED,wCAAyC,CACxC,IACA,EACA,IAED,2CAA4C,CAC3C,IACA,EACA,IAED,gCAAiC,CAChC,GACA,EACA,EACA,EACA,EACA,EACA,IAED,iCAAkC,CACjC,GACA,EACA,EACA,EACA,EACA,EACA,IAED,mDAAoD,CACnD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sDAAuD,CACtD,IACA,EACA,EACA,EACA,EACA,EACA,IAED,wDAAyD,CACxD,IACA,EACA,IAED,sCAAuC,CACtC,GACA,EACA,EACA,EACA,EACA,EACA,IAED,yCAA0C,CACzC,GACA,EACA,EACA,EACA,EACA,EACA,IAED,qCAAsC,CACrC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,wCAAyC,CACxC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,0CAA2C,CAC1C,IACA,EACA,IAED,WAAY,CACX,GACA,EACA,EACA,EACA,EACA,EACA,IAED,YAAa,CACZ,GACA,EACA,EACA,EACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,qBAAsB,CACrB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,iBAAkB,CACjB,GACA,EACA,EACA,EACA,EACA,EACA,IAED,oBAAqB,CACpB,GACA,EACA,EACA,EACA,EACA,EACA,IAED,aAAc,CACb,GACA,EACA,EACA,EACA,EACA,EACA,IAED,cAAe,CACd,GACA,EACA,EACA,EACA,EACA,EACA,IAED,iCAAkC,CACjC,IACA,EACA,EACA,EACA,GACA,IAED,oCAAqC,CACpC,IACA,EACA,EACA,EACA,GACA,IAED,sCAAuC,CACtC,IACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,yBAA0B,CACzB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,2BAA4B,CAC3B,IACA,EACA,IAED,wBAAyB,CACxB,GACA,EACA,EACA,EACA,EACA,EACA,IAED,yBAA0B,CACzB,GACA,EACA,EACA,EACA,EACA,EACA,IAED,mCAAoC,CACnC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sCAAuC,CACtC,IACA,EACA,EACA,EAC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","file":"static/js/main.047a0433.chunk.js","sourcesContent":["export default {\n    VALUE: 'value',\n    TREND: 'trend',\n    CATEGORIZATION: 'categorization',\n    DIFFERENCE: 'difference',\n    PROPORTION: 'proportion',\n    DISTRIBUTION: 'distribution',\n    RANK: 'rank',\n    ASSOCIATION: 'association',\n    EXTREME: 'extreme',\n    OUTLIER: 'outlier'\n}","export default {\n    // Data\n    UPLOAD_DATA: 'UPLOAD_DATA',\n    CONNECT_DATA: 'CONNECT_DATA',\n    CHANGE_DATA: 'CHANGE_DATA',\n    VISUALIZE_DATA: 'VISUALIZE_DATA',\n    UPDATE_DATA_URL: 'UPDATE_DATA_URL',\n    // Fact\n    ADD_FACT: 'ADD_FACT',\n    INSERT_FACT: 'INSERT_FACT',\n    INSERT_RECOMMENDEDFACT: 'INSERT_RECOMMENDEDFACT',\n    UPDATE_FACT: 'UPDATE_FACT',\n    DELETE_FACT: 'DELETE_FACT',\n    DELETE_UNUSEDFACT: 'DELETE_UNUSEDFACT',\n    ORDER_FACTS: 'ORDER_FACTS',\n    SET_HOVER_INDEX: 'SET_HOVER_INDEX',\n    UPDATE_FILTERS:'UPDATE_FILTERS',\n    UPDATE_FILTERS_TITLE:'UPDATE_FILTERS_TITLE',\n    UPDATE_DATARES:'UPDATE_DATARES',\n    UPDATE_SCHEMA_FILTER:'UPDATE_SCHEMA_FILTER',\n    UPDATE_FILTERS_CHANGE_FLAG:'UPDATE_FILTERS_CHANGE_FLAG',\n    CHANGE_CURRENT_EDITING:'CHANGE_CURRENT_EDITING',\n    UPDATE_FILTERS_LOCAL: 'UPDATE_FILTERS_LOCAL', \n    UPDATE_PANNEL_WIDTH:'UPDATE_PANNEL_WIDTH',\n\n    // Story\n    INIT_FACT: 'INIT_FACT',\n    INIT_RELATION: 'INIT_RELATION',\n    SELECT_FACT: 'SELECT_FACT',\n    CHANGE_METHOD: 'CHANGE_METHOD',\n    SET_STORY_PARAMETER: 'SET_STORY_PARAMETER',\n    SET_AGGREGATION_LEVEL: 'SET_AGGREGATION_LEVEL',\n    SET_REWARD_WEIGHT: 'SET_REWARD_WEIGHT',\n    GENERATE_STORY: 'GENERATE_STORY',\n    CHANGE_TITLE: 'CHANGE_TITLE',\n    CHANGE_SUBTITLE: 'CHANGE_SUBTITLE',\n    UPDATE_STORY_CARD_NUMBER: 'UPDATE_STORY_CARD_NUMBER',\n    UPDATE_COMMENT_STORY_INFO: 'UPDATE_COMMENT_STORY_INFO',\n    UPDATE_UUID: 'UPDATE_UUID',\n    UPDATE_PROGRESS: 'UPDATE_PROGRESS',//生成进度\n    EXPORT_PDF: 'EXPORT_PDF',//导出pdf\n    // new\n    CHANGE_TO_ANIMATION: 'CHANGE_TO_ANIMATION',//change facts to animated facts\n    //algorithm\n    CHANGE_ALGORITHM:'CHANGE_ALGORITHM',\n    ADD_SFACT:'ADD_SFACT',\n    ADD_EFACT:'ADD_EFACT',\n    ADD_MFACT:'ADD_MFACT',\n    DELETE_SFACT:'DELETE_SFACT',\n    DELETE_EFACT:'DELETE_EFACT',\n    DELETE_MFACT:'DELETE_MFACT',\n    OPTIMIZE_LAYOUT:'OPTIMIZE_LAYOUT',\n    INSERT_EMPTY_FACT:'INSERT_EMPTY_FACT',\n    INSERT_INTERPOLATED_FACTS:'INSERT_INTERPOLATED_FACT',\n    CHANGE_INTERPOLATIONFLAG:'CHANGE_INTERPOLATIONFLAG',\n    UNDO:'UNDO',\n    REDO:'REDO',\n    //user\n    UPDATE_USER_INFO: 'UPDATE_USER_INFO',\n    UPDATE_USER_OPERATION: 'UPDATE_USER_OPERATION',\n    UPDATE_CONVERT_TYPE: 'UPDATE_CONVERT_TYPE',\n    UPDATE_LOCALE: 'UPDATE_LOCALE',\n    UPDATE_COLLAPSED: 'UPDATE_COLLAPSED',\n    UPDATE_LEFT_COLLAPSED: 'UPDATE_LEFT_COLLAPSED',\n    UPDATE_HEADERBAR_TOGGLE: 'UPDATE_HEADERBAR_TOGGLE',\n    OPEN_LEFT_FOLAT_MENUE: 'OPEN_LEFT_FOLAT_MENUE',\n    UPDATE_CLICKED_MENUE: 'UPDATE_CLICKED_MENUE',\n    CHANGE_LAYOUT_TYPE: \"CHANGE_LAYOUT_TYPE\",\n    CHANGE_USEREND: 'CHANGE_USEREND',\n    WINDOW_UP_SCROLL: 'WINDOW_UP_SCROLL',\n    UPDATA_USER_END_SIZE: 'UPDATA_USER_END_SIZE',\n    IS_HIDDEN_INDEX_LEFT_MENUE: 'IS_HIDDEN_INDEX_LEFT_MENUE',\n    IS_HIDDEN_COMMENT_STORY: 'IS_HIDDEN_COMMENT_STORY',\n    UPDATE_LAST_PAGE: 'UPDATE_LAST_PAGE',\n    UPDATE_SID: 'UPDATE_SID',\n    SHARE_STORY: 'SHARE_STORY',\n    IS_GENERATE_STORY: 'IS_GENERATE_STORY',\n    TO_NEW_PAGE: 'TO_NEW_PAGE',\n    IS_CLICKED_LOGOUT: 'IS_CLICKED_LOGOUT',\n    LEAVE_CREATE_PAGE: 'LEAVE_CREATE_PAGE',\n    IS_INTERRUPT_PROCESS: 'IS_INTERRUPT_PROCESS',\n    CHANGE_FACTSHEET_LAYOUT_TYPE:'CHANGE_FACTSHEET_LAYOUT_TYPE',\n    //Vis\n    UPDATE_VIS_CONTAINER_SIZE: 'UPDATE_VIS_CONTAINER_SIZE'\n}","import { fact2visAllRules } from '@/tool/fact2visAllRule';\n\nconst getSuitableBreakdownList = (factType, chartType, schema) => {\n    //acording to factType ---> filter\n    let suitableBreakdownList = fact2visAllRules.filter(x => x.fact === factType);\n\n    //if has choosed chartType ---> filter\n    if (chartType) {\n        suitableBreakdownList = suitableBreakdownList.filter(x => x.chart === chartType);\n    }\n    if (suitableBreakdownList.length === 0) return [];\n    let breakdownSets = new Set();\n    suitableBreakdownList.forEach(x => {\n        x.breakdownType.forEach(type => {\n            breakdownSets.add(type)\n        })\n    })\n    let breakdownList = Array.from(breakdownSets);\n    //console.log(\"suitableBreakdownList\", breakdownList)\n    let suitableSchema = schema.filter(s => {\n        return breakdownList.indexOf(s.type) !== -1\n    })\n    // suitableSchema = suitableSchema.map(shema => {\n    //     return shema.field\n    // })\n    //console.log(\"suitableSchema\", suitableSchema)\n    return suitableSchema;\n};\nexport default getSuitableBreakdownList;","import FactType from '../../constant/FactType'\nimport getSuitableBreakdownList from '@/tool/getSuitableBreakdownList';\nimport datafilter from '@/tool/datafilter';\nimport * as d3 from 'd3';\n// import _ from 'lodash';\n\n// chart valid\nexport const isValid = function (fact) {\n    let isValid = false;\n    switch (fact.type) {\n        case FactType.ASSOCIATION:\n            if (fact.measure.length === 2 && fact.groupby.length)\n                isValid = true\n            break;\n\n        case FactType.CATEGORIZATION:\n            if (fact.groupby.length)\n                isValid = true\n            break;\n\n        case FactType.DIFFERENCE:\n            if (fact.measure.length   && fact.groupby.length && fact.focus.length >= 2)\n                isValid = true\n            break;\n\n        case FactType.DISTRIBUTION:\n            if (fact.measure.length   && fact.groupby.length)\n                isValid = true\n            break;\n\n        case FactType.EXTREME:\n            if (fact.measure.length   && fact.groupby.length && fact.focus.length)\n                isValid = true\n            break;\n\n        case FactType.OUTLIER:\n            if (fact.measure.length   && fact.groupby.length && fact.focus.length)\n                isValid = true\n            break;\n\n        case FactType.PROPORTION:\n            if (fact.measure.length   && fact.groupby.length && fact.focus.length)\n                isValid = true\n            break;\n\n        case FactType.RANK:\n            if (fact.measure.length   && fact.groupby.length)\n                isValid = true\n            break;\n\n        case FactType.TREND:\n            if (fact.measure.length   && fact.groupby.length)\n                isValid = true\n            break;\n\n        case FactType.VALUE:\n            if (fact.measure.length)\n                isValid = true\n            break;\n\n        default:\n            break;\n    }\n    return isValid\n}\n\n/***\n * 清空不必要的fact属性\n ***/\nexport const customizeFact = function (fact, schema, data) {\n    let newFact = Object.assign({}, fact)\n    switch (fact.type) {\n        case FactType.ASSOCIATION:\n            newFact.focus = [];\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(fact.type, fact.chart, schema);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                }\n                const measureList = schema.filter(key => key['type'] === \"numerical\");\n                if (newFact.measure.length === 0 && measureList.length > 0){\n                    newFact.measure = [{\"field\": measureList[0].field, \"aggregate\": \"count\"}];\n                }\n                if (newFact.measure.length === 1){\n                    newFact.measure.push({\"field\": 'COUNT', \"aggregate\": \"count\"});\n                }\n            }\n            break;\n\n        case FactType.CATEGORIZATION:\n            newFact.measure = []\n            newFact.focus = []\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(fact.type, fact.chart, schema);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                }\n            }\n            break;\n\n        case FactType.DIFFERENCE:\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(fact.type, fact.chart, schema),\n                    gbValueList = getFieldValue(data, fact.groupby);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                }\n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n                /***** 设默认为第1、2条，并且更新到fact中 *****/\n                if (!newFact.focus.length) {\n                    newFact.focus = [{\n                            field: newFact.groupby[0],\n                            value: gbValueList[0],\n                        },\n                        {\n                            field: newFact.groupby[0],\n                            value: gbValueList[1],\n                        }\n                    ]\n                }    \n            }\n            break;\n\n        case FactType.DISTRIBUTION:\n            newFact.focus = []\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(fact.type, fact.chart, schema);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                }\n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n            }\n            break;\n\n        case FactType.EXTREME:\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(fact.type, fact.chart, schema);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                } \n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n                // aggregation\n                if (newFact.measure.length && newFact.groupby.length) {\n                    let encoding = {}\n                    encoding['y'] = {};\n                    encoding['y']['field'] = newFact.measure[0].field;\n                    encoding['y']['aggregation'] = newFact.measure[0].aggregate;\n                    encoding['x'] = {};\n                    encoding['x']['field'] = newFact.groupby[0];\n                    let filteredData = datafilter(data, newFact.subspace)\n                    let aggregatedRows = getAggregatedRows(filteredData, encoding);\n                    // filter gbValueList\n                    let measureField = newFact.measure[0]['field'];\n                    let max = aggregatedRows.reduce((a, b) => (a[measureField] > b[measureField]) ? a : b);\n\n                    /***** 设默认为max，并且更新到fact中 *****/\n                    if (!newFact.focus.length) {\n                        newFact.focus = [{\n                            field: newFact.groupby[0],\n                            value: max[newFact.groupby[0]],\n                            extremeFocus: 'max',\n                            extremeValue: max[newFact.measure[0].field]\n                        }]\n                    }\n                }\n            }\n            break;\n\n        case FactType.OUTLIER:\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(fact.type, fact.chart, schema);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                }\n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n                // aggregation\n                if (newFact.measure.length && newFact.groupby.length) {\n                    let encoding = {}\n                    encoding['y'] = {};\n                    encoding['y']['field'] = newFact.measure[0].field;\n                    encoding['y']['aggregation'] = newFact.measure[0].aggregate;\n                    encoding['x'] = {};\n                    encoding['x']['field'] = newFact.groupby[0];\n                    let filteredData = datafilter(data, newFact.subspace)\n                    let aggregatedRows = getAggregatedRows(filteredData, encoding);\n                    // filter gbValueList\n                    let newOrder = aggregatedRows.sort(function (a, b) { return b[encoding.y.field] - a[encoding.y.field]; }).map(function (d) { return d[encoding.x.field]; })\n                    let newOrderValue = aggregatedRows.sort(function (a, b) { return b[encoding.y.field] - a[encoding.y.field]; }).map(function (d) { return d[encoding.y.field]; })\n\n                    let n = newOrderValue.length\n                    // 整数部分\n                    let posQ3 = parseInt((n - 1) * 0.25)\n                    let posQ1 = parseInt((n - 1) * 0.75)\n                    // 小数部分\n                    let decimalQ3 = (n - 1) * 0.25 - posQ3\n                    let decimalQ1 = (n - 1) * 0.75 - posQ1\n                    let Q3 = newOrderValue[posQ3] + (newOrderValue[posQ3 + 1] - newOrderValue[posQ3]) * decimalQ3\n                    let Q1 = newOrderValue[posQ1] + (newOrderValue[posQ1 + 1] - newOrderValue[posQ1]) * decimalQ1\n\n                    let Low = Q1 - 1.5 * (Q3 - Q1)\n                    let Up = Q3 + 1.5 * (Q3 - Q1)\n                    let outlierIndex = []\n                    newOrderValue.forEach((d, i) => {\n                        if (d > Up || d < Low) {\n                            outlierIndex.push(i)\n                        }\n                    });\n\n                    /***** 设默认为outlier，并且更新到fact中 *****/\n                    if (!newFact.focus.length && outlierIndex.length) {\n                        newFact.focus = [{\n                            field: fact.groupby[0],\n                            value: newOrder[outlierIndex[0]],\n                        }]\n                    }\n                }\n            }\n            break;\n\n        case FactType.PROPORTION:\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(fact.type, fact.chart, schema);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                }\n\n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n                if (newFact.measure.length && newFact.groupby.length) {\n                    // aggregation\n                    let encoding = {}\n                        encoding['y'] = {};\n                        encoding['y']['field'] = newFact.measure[0].field;\n                        encoding['y']['aggregation'] = newFact.measure[0].aggregate;\n                        encoding['x'] = {};\n                        encoding['x']['field'] = newFact.groupby[0];\n                    let filteredData = datafilter(data, newFact.subspace)\n                    let aggregatedRows = getAggregatedRows(filteredData, encoding);\n                    // filter gbValueList\n                    let measureField = newFact.measure[0]['field'];\n                    let max = aggregatedRows.reduce((a, b) => (a[measureField] > b[measureField]) ? a : b)\n\n                    /***** 设默认为max，并且更新到fact中 *****/\n                    if (!newFact.focus.length) {\n                        newFact.focus = [{\n                            field: newFact.groupby[0],\n                            value: max[newFact.groupby[0]],\n                        }]\n                    }\n                } \n            }\n            break;\n\n        case FactType.RANK:\n            newFact.focus = []\n            if(schema && data){\n                const groupbyList = getSuitableBreakdownList(newFact.type, newFact.chart, schema);\n                if (newFact.groupby.length === 0 && groupbyList.length > 0) {\n                    newFact.groupby = [groupbyList[0].field];\n                }\n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n                // if (newFact.measure.length && newFact.groupby.length) {\n                //     // aggregation\n                //     let encoding = {}\n                //     encoding['y'] = {};\n                //     encoding['y']['field'] = newFact.measure[0].field;\n                //     encoding['y']['aggregation'] = newFact.measure[0].aggregate;\n                //     encoding['x'] = {};\n                //     encoding['x']['field'] = newFact.groupby[0];\n                //     let filteredData = datafilter(data, newFact.subspace)\n                //     let aggregatedRows = getAggregatedRows(filteredData, encoding);\n                //     // filter gbValueList\n                //     let newOrder = aggregatedRows.sort(function (a, b) { return b[encoding.y.field] - a[encoding.y.field]; }).map(function (d) { return d[encoding.x.field]; })\n        \n                //     /***** 设默认为前3，并且更新到fact中 *****/\n\n                //     let focus = []\n                //     newOrder.forEach((d, i) => {\n                //         if (i < 3) {\n                //             focus.push({ field: fact.groupby[0], value: d })\n                //         }\n                //     });\n                //     if(!_.isEqual(focus, newFact.focus)){\n                //         newFact.focus = focus;\n                //     }\n                // }\n            }\n            break;\n\n        case FactType.TREND:\n            newFact.focus = [];\n            if(schema && data){\n                let groupbyList = schema.filter(key => key['type'] === \"temporal\")\n                const groupbyFieldList = groupbyList.map((d) => d.field);\n                if(groupbyList.length === 0){\n                    newFact.groupby = []\n                }else if(newFact.groupby.length === 0 || groupbyFieldList.indexOf(newFact.groupby[0]) === -1){\n                    newFact.groupby = [groupbyList[0].field];\n                }\n\n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n            }\n            break;\n\n        case FactType.VALUE:\n            newFact.groupby = []\n            newFact.focus = []\n            if(schema && data){\n                if (newFact.measure.length === 0){\n                    newFact.measure = [{\"field\": 'COUNT', \"aggregate\": \"count\"}];\n                }\n            }\n            break;\n\n        default:\n            break;\n    }\n\n    return newFact\n}\n\n// fact valid for score to update(RANK/PROPORTION/OUTLIER/DIFFERENCE)\n//NO USE FOR A MOMENT!!!!!\nexport const isFactValid = function (_fact) {\n    let fact = Object.assign({}, _fact)\n    let isFactValid = false;\n    switch (fact.type) {\n        case FactType.ASSOCIATION:\n            if (fact.measure.length === 2 && fact.groupby)\n                isFactValid = true\n            break;\n\n        case FactType.CATEGORIZATION:\n            if (fact.groupby)\n                isFactValid = true\n            break;\n\n        case FactType.DIFFERENCE:\n            if (fact.measure && fact.groupby && fact.focus.length >= 2)\n                isFactValid = true\n            break;\n\n        case FactType.DISTRIBUTION:\n            if (fact.measure && fact.groupby)\n                isFactValid = true\n            break;\n\n        case FactType.EXTREME:\n            if (fact.measure && fact.groupby)\n                isFactValid = true\n            break;\n\n        case FactType.OUTLIER:\n            if (fact.measure && fact.groupby && fact.focus.length)\n                isFactValid = true\n            break;\n\n        case FactType.PROPORTION:\n            if (fact.measure && fact.groupby && fact.focus.length)\n                isFactValid = true\n            break;\n\n        case FactType.RANK:\n            if (fact.measure.length && fact.groupby.length && fact.focus.length >= 3)\n                isFactValid = true\n            break;\n\n        case FactType.TREND:\n            if (fact.measure && fact.groupby)\n                isFactValid = true\n            break;\n\n        case FactType.VALUE:\n            if (fact.measure)\n                isFactValid = true\n            break;\n\n        default:\n            break;\n    }\n    return isFactValid\n}\n\nconst getCountRows = (rawData, encoding) => {\n    let calculateData = d3.nest().key(d => d[encoding.x.field]).entries(rawData);\n    let countData = new Array(calculateData.length).fill(0);\n    let data = calculateData.map(function (d, i) {\n        d.values.forEach(() => {\n            countData[i] += 1\n        })\n        let countRows = Object.assign({}, d.values[0])\n        countRows['COUNT'] = countData[i]\n        return countRows\n    });\n    return data;\n}\n\nconst getMinRows = (rawData, encoding) => {\n    let calculateData = d3.nest().key(d => d[encoding.x.field]).entries(rawData);\n    let data = calculateData.map(function (d) {\n        let index = d3.scan(d.values, function (a, b) {\n            if (a[encoding.y.field] && b[encoding.y.field])\n                return a[encoding.y.field] - b[encoding.y.field];\n        });\n        if (index >= 0) {\n            return d.values[index]\n        } else {\n            return d.values[0]\n        }\n    });\n    return data;\n}\n\nconst getMaxRows = (rawData, encoding) => {\n    let calculateData = d3.nest().key(d => d[encoding.x.field]).entries(rawData);\n    let data = calculateData.map(function (d, i) {\n        let index = d3.scan(d.values, function (a, b) {\n            if (a[encoding.y.field] && b[encoding.y.field])\n                return b[encoding.y.field] - a[encoding.y.field];\n        });\n        if (index >= 0) {\n            return d.values[index]\n        } else {\n            return d.values[0];\n        }\n    });\n    return data;\n}\n\nconst getSumRows = (rawData, encoding) => {\n    let calculateData = d3.nest().key(d => d[encoding.x.field]).entries(rawData);\n    let sumData = new Array(calculateData.length).fill(0);\n    let data = calculateData.map(function (d, i) {\n        d.values.forEach(d => {\n            sumData[i] += d[encoding.y.field]\n        })\n        let sumRows = Object.assign({}, d.values[0])\n        sumRows[encoding.y.field] = sumData[i]\n        return sumRows\n    });\n    return data;\n}\n\nconst getAverageRows = (rawData, encoding) => {\n    let calculateData = d3.nest().key(d => d[encoding.x.field]).entries(rawData);\n    let sumData = new Array(calculateData.length).fill(0);\n    let data = calculateData.map(function (d, i) {\n        d.values.forEach(d => {\n            sumData[i] += d[encoding.y.field]\n        })\n        let sumRows = Object.assign({}, d.values[0])\n        sumRows[encoding.y.field] = sumData[i] / d.values.length;\n        return sumRows;\n    });\n    return data;\n}\n\nconst getAggregatedRows = (rawData, encoding) => {\n    let data;\n    switch (encoding.y.aggregation) {\n        case 'sum':\n            data = getSumRows(rawData, encoding);\n            break;\n        case 'avg':\n            data = getAverageRows(rawData, encoding);\n            break;\n        case 'max':\n            data = getMaxRows(rawData, encoding);\n            break;\n        case 'min':\n            data = getMinRows(rawData, encoding);\n            break;\n        case 'count':\n            data = getCountRows(rawData, encoding)\n            break;\n\n        default:\n            data = getMaxRows(rawData, encoding);\n            break;\n    }\n    return data;\n}\n\nconst getFieldValue = (rawData, fieldName) => {\n    if (fieldName)\n        return Array.from(new Set(rawData.map(d => d[fieldName])));\n    else return []\n}","var map = {\n\t\"./EditPage/EditDashboard\": [\n\t\t54,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t16\n\t],\n\t\"./EditPage/EditDashboard/\": [\n\t\t54,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t16\n\t],\n\t\"./EditPage/EditDashboard/EditPage\": [\n\t\t134,\n\t\t9,\n\t\t41\n\t],\n\t\"./EditPage/EditDashboard/EditPage.js\": [\n\t\t134,\n\t\t9,\n\t\t41\n\t],\n\t\"./EditPage/EditDashboard/EditPage.less\": [\n\t\t267,\n\t\t7,\n\t\t55\n\t],\n\t\"./EditPage/EditDashboard/index\": [\n\t\t54,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t16\n\t],\n\t\"./EditPage/EditDashboard/index.js\": [\n\t\t54,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t16\n\t],\n\t\"./EditPage/EditDataComics\": [\n\t\t55,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t17\n\t],\n\t\"./EditPage/EditDataComics/\": [\n\t\t55,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t17\n\t],\n\t\"./EditPage/EditDataComics/EditPage\": [\n\t\t135,\n\t\t9,\n\t\t42\n\t],\n\t\"./EditPage/EditDataComics/EditPage.js\": [\n\t\t135,\n\t\t9,\n\t\t42\n\t],\n\t\"./EditPage/EditDataComics/EditPage.less\": [\n\t\t268,\n\t\t7,\n\t\t56\n\t],\n\t\"./EditPage/EditDataComics/index\": [\n\t\t55,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t17\n\t],\n\t\"./EditPage/EditDataComics/index.js\": [\n\t\t55,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t17\n\t],\n\t\"./EditPage/EditDataVideos\": [\n\t\t56,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t18\n\t],\n\t\"./EditPage/EditDataVideos/\": [\n\t\t56,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t18\n\t],\n\t\"./EditPage/EditDataVideos/EditPage\": [\n\t\t136,\n\t\t9,\n\t\t43\n\t],\n\t\"./EditPage/EditDataVideos/EditPage.js\": [\n\t\t136,\n\t\t9,\n\t\t43\n\t],\n\t\"./EditPage/EditDataVideos/EditPage.less\": [\n\t\t269,\n\t\t7,\n\t\t57\n\t],\n\t\"./EditPage/EditDataVideos/index\": [\n\t\t56,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t18\n\t],\n\t\"./EditPage/EditDataVideos/index.js\": [\n\t\t56,\n\t\t9,\n\t\t4,\n\t\t6,\n\t\t18\n\t],\n\t\"./EditPage/EditFactsheet\": [\n\t\t57,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t10\n\t],\n\t\"./EditPage/EditFactsheet/\": [\n\t\t57,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t10\n\t],\n\t\"./EditPage/EditFactsheet/EditPage\": [\n\t\t113,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/EditFactsheet/EditPage.js\": [\n\t\t113,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/EditFactsheet/EditPage.less\": [\n\t\t263,\n\t\t7,\n\t\t59\n\t],\n\t\"./EditPage/EditFactsheet/index\": [\n\t\t57,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t10\n\t],\n\t\"./EditPage/EditFactsheet/index.js\": [\n\t\t57,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t10\n\t],\n\t\"./EditPage/EditFactsheetNew\": [\n\t\t58,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t8\n\t],\n\t\"./EditPage/EditFactsheetNew/\": [\n\t\t58,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t8\n\t],\n\t\"./EditPage/EditFactsheetNew/EditPage\": [\n\t\t139,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t19\n\t],\n\t\"./EditPage/EditFactsheetNew/EditPage.js\": [\n\t\t139,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t19\n\t],\n\t\"./EditPage/EditFactsheetNew/EditPage.less\": [\n\t\t270,\n\t\t7,\n\t\t58\n\t],\n\t\"./EditPage/EditFactsheetNew/index\": [\n\t\t58,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t8\n\t],\n\t\"./EditPage/EditFactsheetNew/index.js\": [\n\t\t58,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t8\n\t],\n\t\"./EditPage/EditView\": [\n\t\t48,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t13\n\t],\n\t\"./EditPage/EditView/\": [\n\t\t48,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t13\n\t],\n\t\"./EditPage/EditView/DropView\": [\n\t\t114,\n\t\t9,\n\t\t38,\n\t\t45\n\t],\n\t\"./EditPage/EditView/DropView.js\": [\n\t\t114,\n\t\t9,\n\t\t38,\n\t\t45\n\t],\n\t\"./EditPage/EditView/EditView\": [\n\t\t117,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t26\n\t],\n\t\"./EditPage/EditView/EditView.js\": [\n\t\t117,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t26\n\t],\n\t\"./EditPage/EditView/index\": [\n\t\t48,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t13\n\t],\n\t\"./EditPage/EditView/index.js\": [\n\t\t48,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t13\n\t],\n\t\"./EditPage/EditView/index.less\": [\n\t\t261,\n\t\t7,\n\t\t60\n\t],\n\t\"./EditPage/FactListView\": [\n\t\t50,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/FactListView/\": [\n\t\t50,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/FactListView/BarBrush\": [\n\t\t109,\n\t\t9,\n\t\t49\n\t],\n\t\"./EditPage/FactListView/BarBrush.js\": [\n\t\t109,\n\t\t9,\n\t\t49\n\t],\n\t\"./EditPage/FactListView/FactCard\": [\n\t\t119,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5,\n\t\t36\n\t],\n\t\"./EditPage/FactListView/FactCard.js\": [\n\t\t119,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5,\n\t\t36\n\t],\n\t\"./EditPage/FactListView/FactList\": [\n\t\t122,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/FactListView/FactList.js\": [\n\t\t122,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/FactListView/NumericalFilter\": [\n\t\t121,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t40,\n\t\t50\n\t],\n\t\"./EditPage/FactListView/NumericalFilter.js\": [\n\t\t121,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t40,\n\t\t50\n\t],\n\t\"./EditPage/FactListView/index\": [\n\t\t50,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/FactListView/index.js\": [\n\t\t50,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t7\n\t],\n\t\"./EditPage/FactListView/index.less\": [\n\t\t262,\n\t\t7,\n\t\t62\n\t],\n\t\"./EditPage/FactListView/schemaTest\": [\n\t\t120,\n\t\t9,\n\t\t51\n\t],\n\t\"./EditPage/FactListView/schemaTest.js\": [\n\t\t120,\n\t\t9,\n\t\t51\n\t],\n\t\"./EditPage/FactListViewNew\": [\n\t\t51,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t9\n\t],\n\t\"./EditPage/FactListViewNew/\": [\n\t\t51,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t9\n\t],\n\t\"./EditPage/FactListViewNew/AlgorithmSettings\": [\n\t\t123,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t32\n\t],\n\t\"./EditPage/FactListViewNew/AlgorithmSettings.js\": [\n\t\t123,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t32\n\t],\n\t\"./EditPage/FactListViewNew/AnimationSettings\": [\n\t\t128,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t29\n\t],\n\t\"./EditPage/FactListViewNew/AnimationSettings.js\": [\n\t\t128,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t29\n\t],\n\t\"./EditPage/FactListViewNew/BarBrush\": [\n\t\t116,\n\t\t9,\n\t\t46\n\t],\n\t\"./EditPage/FactListViewNew/BarBrush.js\": [\n\t\t116,\n\t\t9,\n\t\t46\n\t],\n\t\"./EditPage/FactListViewNew/DraggableFactCard\": [\n\t\t115,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5,\n\t\t34\n\t],\n\t\"./EditPage/FactListViewNew/DraggableFactCard.js\": [\n\t\t115,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5,\n\t\t34\n\t],\n\t\"./EditPage/FactListViewNew/FactCard\": [\n\t\t108,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5,\n\t\t35\n\t],\n\t\"./EditPage/FactListViewNew/FactCard.js\": [\n\t\t108,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t5,\n\t\t35\n\t],\n\t\"./EditPage/FactListViewNew/FactChartEditor\": [\n\t\t118,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t23\n\t],\n\t\"./EditPage/FactListViewNew/FactChartEditor.js\": [\n\t\t118,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t23\n\t],\n\t\"./EditPage/FactListViewNew/FactList\": [\n\t\t129,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t20\n\t],\n\t\"./EditPage/FactListViewNew/FactList.js\": [\n\t\t129,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t20\n\t],\n\t\"./EditPage/FactListViewNew/MoreFactsSelections\": [\n\t\t125,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t25\n\t],\n\t\"./EditPage/FactListViewNew/MoreFactsSelections.js\": [\n\t\t125,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t25\n\t],\n\t\"./EditPage/FactListViewNew/NumericalFilter\": [\n\t\t111,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t39,\n\t\t47\n\t],\n\t\"./EditPage/FactListViewNew/NumericalFilter.js\": [\n\t\t111,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t39,\n\t\t47\n\t],\n\t\"./EditPage/FactListViewNew/RfactsSettings\": [\n\t\t110,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t30\n\t],\n\t\"./EditPage/FactListViewNew/RfactsSettings.js\": [\n\t\t110,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t30\n\t],\n\t\"./EditPage/FactListViewNew/RightBottomButton\": [\n\t\t126,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t28\n\t],\n\t\"./EditPage/FactListViewNew/RightBottomButton.js\": [\n\t\t126,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t28\n\t],\n\t\"./EditPage/FactListViewNew/TopicSettings\": [\n\t\t124,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t31\n\t],\n\t\"./EditPage/FactListViewNew/TopicSettings.js\": [\n\t\t124,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t31\n\t],\n\t\"./EditPage/FactListViewNew/index\": [\n\t\t51,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t9\n\t],\n\t\"./EditPage/FactListViewNew/index.js\": [\n\t\t51,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t9\n\t],\n\t\"./EditPage/FactListViewNew/index.less\": [\n\t\t260,\n\t\t7,\n\t\t61\n\t],\n\t\"./EditPage/FactListViewNew/schemaTest\": [\n\t\t127,\n\t\t9,\n\t\t48\n\t],\n\t\"./EditPage/FactListViewNew/schemaTest.js\": [\n\t\t127,\n\t\t9,\n\t\t48\n\t],\n\t\"./EditPage/HeaderOperatorView\": [\n\t\t52,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t14\n\t],\n\t\"./EditPage/HeaderOperatorView/\": [\n\t\t52,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t14\n\t],\n\t\"./EditPage/HeaderOperatorView/HeaderOperatorView\": [\n\t\t130,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t27\n\t],\n\t\"./EditPage/HeaderOperatorView/HeaderOperatorView.js\": [\n\t\t130,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t27\n\t],\n\t\"./EditPage/HeaderOperatorView/HeaderOperatorView.less\": [\n\t\t264,\n\t\t7,\n\t\t63\n\t],\n\t\"./EditPage/HeaderOperatorView/index\": [\n\t\t52,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t14\n\t],\n\t\"./EditPage/HeaderOperatorView/index.js\": [\n\t\t52,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t14\n\t],\n\t\"./EditPage/MobileTabView/MobileTab\": [\n\t\t140,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t21\n\t],\n\t\"./EditPage/MobileTabView/MobileTab.js\": [\n\t\t140,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t21\n\t],\n\t\"./EditPage/MobileTabView/MobileTab.less\": [\n\t\t272,\n\t\t7,\n\t\t64\n\t],\n\t\"./H5page\": [\n\t\t59,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t5,\n\t\t15\n\t],\n\t\"./H5page/\": [\n\t\t59,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t5,\n\t\t15\n\t],\n\t\"./H5page/H5page\": [\n\t\t137,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t5,\n\t\t33\n\t],\n\t\"./H5page/H5page.js\": [\n\t\t137,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t5,\n\t\t33\n\t],\n\t\"./H5page/index\": [\n\t\t59,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t5,\n\t\t15\n\t],\n\t\"./H5page/index.js\": [\n\t\t59,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t3,\n\t\t5,\n\t\t15\n\t],\n\t\"./Homepage\": [\n\t\t60,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t11\n\t],\n\t\"./Homepage/\": [\n\t\t60,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t11\n\t],\n\t\"./Homepage/Content/ContentView\": [\n\t\t133,\n\t\t9,\n\t\t0,\n\t\t3,\n\t\t37,\n\t\t44\n\t],\n\t\"./Homepage/Content/ContentView.js\": [\n\t\t133,\n\t\t9,\n\t\t0,\n\t\t3,\n\t\t37,\n\t\t44\n\t],\n\t\"./Homepage/Content/ContentView.less\": [\n\t\t266,\n\t\t7,\n\t\t65\n\t],\n\t\"./Homepage/Homepage\": [\n\t\t138,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t22\n\t],\n\t\"./Homepage/Homepage.js\": [\n\t\t138,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t22\n\t],\n\t\"./Homepage/Homepage.less\": [\n\t\t271,\n\t\t7,\n\t\t66\n\t],\n\t\"./Homepage/PannelView\": [\n\t\t53,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t12\n\t],\n\t\"./Homepage/PannelView/\": [\n\t\t53,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t12\n\t],\n\t\"./Homepage/PannelView/PannelView\": [\n\t\t131,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t24\n\t],\n\t\"./Homepage/PannelView/PannelView.js\": [\n\t\t131,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t24\n\t],\n\t\"./Homepage/PannelView/PannelView.less\": [\n\t\t265,\n\t\t7,\n\t\t67\n\t],\n\t\"./Homepage/PannelView/index\": [\n\t\t53,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t12\n\t],\n\t\"./Homepage/PannelView/index.js\": [\n\t\t53,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t12\n\t],\n\t\"./Homepage/index\": [\n\t\t60,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t11\n\t],\n\t\"./Homepage/index.js\": [\n\t\t60,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t11\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 240;\nmodule.exports = webpackAsyncContext;","import { facts2charts } from '../tool/fact2vis';\nimport ActionType from '../action/type';\nimport { genTitle } from \"../sentencer/index\";\nimport _ from 'lodash';\nimport * as d3 from 'd3';\n//let visData = sessionStorage.getItem('visData') ? JSON.parse(sessionStorage.getItem('visData')) : {};\nlet uuid = localStorage.getItem('uuid') ? JSON.parse(sessionStorage.getItem('uuid')) : null;\nconst plur = require('plur');\n\nconst convertField = function (field, param = 'single') {\n    let gb = field\n    if (param === 'single')\n        return gb\n    else if (param === 'plural') {\n        if (gb.indexOf(' of ') !== -1) {\n            let gbWords = gb.split(\" \")\n            let gbWordIndex = gbWords.indexOf(\"of\") - 1\n            if (gbWordIndex > -1) {\n                let plurWord = plur(gbWords[gbWordIndex], 2)\n                return gb.replace(gbWords[gbWordIndex], plurWord)\n            }\n        } else\n            return plur(gb, 2)\n    }\n}\n\n\nconst initialState = {\n    fileName: '.csv',\n    real_filename : '.csv',\n    title: '',\n    subtitle: '',\n    data: [],\n    schema: [],\n    method: 'sig',\n    facts: [],\n    unusedFacts: [],\n    relations: [],\n    hoverFactIndex: -1,\n    selectedFactIndex: '',\n    maxStoryLength: 6,\n    timeLimit: 2000,// for each iteration\n    information: 40, // default 50 bits for 6 facts\n    resultCoverage: 1,\n    chartDiversity: 0,\n    aggregationLevel: 0,\n    rewardWeight: {\n        logicality: 0.33,\n        diversity: 0.33,\n        integrity: 0.33,\n    },\n    generateProgress: 0,\n    visData: {},\n    uuid,\n    historyStory: '',\n    isExportPdf: true,\n    generateUrl: '',//dataUrl for H5,\n\n    //edit filters\n    filters: [],\n    filtersTitle: '',\n    datares: [],\n    schemaFilter: [],\n    filtersChangeFlag: false,\n    editstate: false,\n    editingCurrentFact: null,\n    //local filters\n    filtersLocal: [],\n    filtersTitleLocal: '',\n    dataresLocal: [],\n    schemaFilterLocal: [],\n    leftPaneWidth:'21%',//left pannel\n    rightPaneWidth:'21%',\n    //origin filters\n    filtersOrigin:[],\n    filtersTitleOrigin:'',\n\n    animationFlag: false, //this button is to change the facts to animated facts\n    animationType: \"顺序播放\",\n\n    //algorithm select\n    algorithm:'MCTS',\n    calSimilarityType:'trans',\n    maximumFact:1,\n    recommendedSfacts:[],\n    recommendedEfacts:[],\n    recommendedMfacts:[],\n    layoutFlag:false,\n    interpolationFlag:false,\n    //meta\n    specIndex:-1,//状态为0时 清空edit页面\n    timeline: [],\n\n\n};\n\nexport default (state = initialState, action) => {\n    const newState = Object.assign({}, state);\n    let newFacts;\n    let newFactsCopy;\n    let specIndex1;\n    switch (action.type) {\n        case ActionType.INIT_RELATION:\n            newState.relations = action.storyRelations;\n            newState.resultCoverage = 0;\n            return newState;\n        case ActionType.INIT_FACT:\n            newState.facts = action.storyFacts;\n            newState.resultCoverage = 0;\n            return newState;\n        case ActionType.SELECT_FACT:\n            newState.selectedFactIndex = action.index;\n            return newState;\n        case ActionType.ADD_FACT:\n            newFacts = newState.unusedFacts.slice();\n            newState.unusedFacts = newFacts.concat(action.facts);;\n            return newState;\n        case ActionType.UPDATE_FACT:\n            newState.selectedFactIndex = action.index;\n            let fact = _.cloneDeep(action.fact);\n            // fact.chart = getFactChartType(fact, state.data);\n            newFacts = newState.facts.slice();\n            newFacts[action.index] = fact;\n            newState.facts = newFacts;\n            newState.relations = Array(newState.facts.length).fill('none'); // reset relations\n            // newState.timeline.push(newState)\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.INSERT_FACT:\n            newFacts = newState.facts.slice();\n            let newUnusedFacts = newState.unusedFacts.slice();\n            let newFact = newUnusedFacts.splice(action.index, 1)[0];\n            newFacts.splice(action.insert, 0, newFact);\n            newFactsCopy=_.cloneDeep(newFacts)\n            newFactsCopy=newFactsCopy.map((item,i)=>{\n                item.index=i\n                return item\n            })\n            newState.facts = newFactsCopy;\n            newState.unusedFacts = newUnusedFacts;\n            newState.relations = Array(newFacts.length).fill('none'); // reset relations\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.INSERT_RECOMMENDEDFACT:\n            newFacts = newState.facts.slice();\n            let newUnusedRFacts;\n            if(action.factLocation===\"first\") {\n                newUnusedRFacts = newState.recommendedSfacts.slice();\n            }\n            else if(action.factLocation===\"last\") {\n                newUnusedRFacts = newState.recommendedEfacts.slice();\n            }\n            else newUnusedRFacts = newState.recommendedMfacts.slice();\n            let newFact1 = newUnusedRFacts.splice(action.index, 1)[0];\n            newFacts.splice(action.insert, 0, newFact1);\n            newFactsCopy=_.cloneDeep(newFacts)\n            newFactsCopy=newFactsCopy.map((item,i)=>{\n                item.index=i\n                return item\n            })\n            newState.facts = newFactsCopy;\n            // newState.unusedFacts = newUnusedFacts;\n            newState.relations = Array(newFacts.length).fill('none'); // reset relations\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.DELETE_FACT:\n            newFacts = newState.facts.slice();\n            newFacts.splice(action.index, 1);\n            // newState.selectedFactIndex = action.index > 0 ? action.index - 1 : 0;\n            if (newFacts.length === 0) {\n                // add default fact\n                // let newFact = new Fact(FactType.VALUE);\n                // newFacts.push(newFact);\n            }\n            newFactsCopy=_.cloneDeep(newFacts)\n            newFactsCopy=newFactsCopy.map((item,i)=>{\n                item.index=i\n                return item\n            })\n            newState.facts = newFactsCopy;\n            newState.selectedFactIndex = '';\n            // newState.selectedFactIndex = newFacts.length - 1;\n            newState.relations = Array(newState.facts.length).fill('none'); // reset relations\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.DELETE_UNUSEDFACT:\n            newFacts = newState.unusedFacts.slice();\n            newFacts.splice(action.index, 1);\n            newState.unusedFacts = newFacts;\n            return newState;\n        case ActionType.ORDER_FACTS:\n            newFacts = newState.facts.slice();\n            const [moved] = newFacts.splice(action.sourceIndex, 1);\n            newFacts.splice(action.destinationIndex, 0, moved);\n            // newFacts.splice(action.sourceIndex < action.destinationIndex ? action.destinationIndex - 1 : action.destinationIndex, 0, moved);\n            newFactsCopy=_.cloneDeep(newFacts)\n            newFactsCopy=newFactsCopy.map((item,i)=>{\n                item.index=i\n                return item\n            })\n            newState.facts = newFactsCopy;\n            newState.selectedFactIndex = action.destinationIndex;\n            newState.relations = Array(newState.facts.length).fill('none'); // reset relations\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.SET_HOVER_INDEX:\n            newState.hoverFactIndex = action.index;\n            return newState;\n        case ActionType.CHANGE_METHOD:\n            newState.method = action.method;\n            return newState;\n        case ActionType.SET_STORY_PARAMETER:\n            newState.maxStoryLength = action.maxStoryLength;\n            newState.information = action.information;\n            newState.chartDiversity = action.chartDiversity;\n            if (action.chartDiversity !== state.chartDiversity) {\n                newFacts = newState.facts.slice();\n                //newFacts = facts2charts(newFacts, state.data, action.chartDiversity);\n                newFacts = facts2charts(newFacts, state.schema, action.chartDiversity);\n                newState.facts = newFacts;\n            }\n            newState.timeLimit = action.timeLimit;\n            return newState;\n\n        case ActionType.SET_AGGREGATION_LEVEL:\n            newState.aggregationLevel = action.level;\n            return newState;\n\n        case ActionType.SET_REWARD_WEIGHT:\n            let newWeight = Object.assign({}, newState.rewardWeight);\n            newWeight.logicality = action.logicality;\n            newWeight.diversity = action.diversity;\n            newWeight.integrity = action.integrity;\n            newState.rewardWeight = newWeight;\n            return newState;\n\n        case ActionType.GENERATE_STORY:\n            newState.facts = action.facts;\n            newState.relations = action.relations;\n            newState.resultCoverage = action.coverage;\n            // newState.selectedFactIndex = action.facts.length - 1\n            newState.selectedFactIndex = ''\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n\n        case ActionType.UPDATE_PROGRESS:\n            newState.generateProgress = Number(((action.totalLength - action.currentLength) / action.totalLength).toFixed(2) * 100);\n            return newState;\n        case ActionType.EXPORT_PDF:\n            newState.isExportPdf = action.isExportPdf;\n            return newState;\n        case ActionType.CHANGE_TITLE:\n            newState.title = action.title;\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.CHANGE_SUBTITLE:\n            newState.subtitle = action.subtitle;\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.CHANGE_CURRENT_EDITING:\n            newState.editstate = action.editstate;\n            newState.editingCurrentFact = action.editingCurrentFact;\n            return newState;\n        case ActionType.CHANGE_ALGORITHM:\n            newState.algorithm=action.algorithm;\n            newState.calSimilarityType=action.calSimilarityType;\n            newState.maximumFact=action.maximumFact;\n            return newState;\n        case ActionType.ADD_SFACT://starting_facts\n            newFacts = newState.recommendedSfacts.slice();\n            newState.recommendedSfacts = newFacts.concat(action.facts);\n            return newState;\n        case ActionType.ADD_EFACT://ending_facts\n            newFacts = newState.recommendedEfacts.slice();\n            newState.recommendedEfacts = newFacts.concat(action.facts);\n            return newState;\n        case ActionType.ADD_MFACT://middle_facts\n            // newState.recommendedMfacts=action.facts\n            newFacts = newState.recommendedMfacts.slice();\n            newState.recommendedMfacts = newFacts.concat(action.facts);\n            return newState;\n        case ActionType.DELETE_SFACT://delete starting_facts\n            newFacts = newState.recommendedSfacts.slice();\n            newFacts.splice(action.index, 1);\n            newState.recommendedSfacts = newFacts;\n            return newState;\n        case ActionType.DELETE_EFACT://delete ending_facts\n            newFacts = newState.recommendedEfacts.slice();\n            newFacts.splice(action.index, 1);\n            newState.recommendedEfacts = newFacts;\n            return newState;\n        case ActionType.DELETE_MFACT://delete middle_facts\n            newFacts = newState.recommendedMfacts.slice();\n            newFacts.splice(action.index, 1);\n            newState.recommendedMfacts = newFacts;\n            return newState;\n        case ActionType.OPTIMIZE_LAYOUT:\n            newState.layoutFlag=action.layoutFlag\n            return newState;\n        case ActionType.CHANGE_INTERPOLATIONFLAG:\n            newState.interpolationFlag=action.interpolationFlag\n            return newState\n\n        case ActionType.INSERT_EMPTY_FACT:\n            newFacts = newState.facts.slice();\n            newFacts.splice(action.insert, 0, action.emptyFact);\n            newFactsCopy=_.cloneDeep(newFacts)\n            newFactsCopy=newFactsCopy.map((item,i)=>{\n                item.index=i\n                return item\n            })\n            newState.facts = newFactsCopy;\n            newState.relations = Array(newFacts.length).fill('none'); // reset relations\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n        case ActionType.INSERT_INTERPOLATED_FACTS:\n            newFacts = newState.facts.slice();\n            action.interpolatedFacts.unshift(action.insert,0)\n            Array.prototype.splice.apply(newFacts,action.interpolatedFacts)\n            newFactsCopy=_.cloneDeep(newFacts)\n            newFactsCopy=newFactsCopy.map((item,i)=>{\n                item.index=i\n                return item\n            })\n            newState.facts = newFactsCopy;\n            newState.relations = Array(newFacts.length).fill('none'); // reset relations\n            newState.specIndex ++;\n            specIndex1=newState.specIndex\n            newState.timeline.splice(specIndex1,newState.timeline.length-specIndex1,newState)\n            return newState;\n\n        case ActionType.UPLOAD_DATA:\n            newState.fileName = action.fileName;\n            newState.real_filename = action.real_filename;\n            newState.title = genTitle(action.real_filename);\n            newState.facts = [];\n            newState.relations = [];\n            newState.schema = action.schema;\n            newState.data = action.data;\n            newState.filters = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n\n            newState.filtersTitle = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n            newState.filtersOrigin = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n\n            newState.filtersTitleOrigin = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n            newState.datares = action.data;\n            newState.schemaFilter = action.schema;\n\n\n            let subStorytitle = \"Data Scope: \";\n            let filtersTitleCore = '';\n            if(newState.filtersTitle!==''){\n                newState.filtersTitle.map((item, index) => {\n                    if (item.type === \"categorical\" ||item.type===\"geographical\"|| item.type === \"temporal\") {\n                        if (index === newState.filtersTitle.length - 1)\n                            filtersTitleCore += `[${item.title}]`\n                        else filtersTitleCore += `[${item.title}], `\n                    }\n                  \n                })             \n            }\n            subStorytitle += filtersTitleCore\n            newState.subtitle=subStorytitle\n\n            newState.filtersLocal = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n\n            newState.filtersTitleLocal = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n\n            newState.dataresLocal = action.data;\n            newState.schemaFilterLocal = action.schema;\n            //  newState.filtersChangeFlag = false;\n            //console.log(\"UPLOAD_DATA\",newState.data)\n            return newState\n        case ActionType.CONNECT_DATA:\n            newState.fileName = action.fileName;\n            newState.real_filename = action.real_filename;\n            newState.title = genTitle(action.real_filename);\n            newState.facts = [];\n            newState.relations = [];\n            newState.schema = action.schema;\n            newState.data = action.data;\n            newState.resultCoverage = 0;\n\n            newState.filters = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n            newState.filtersTitle = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n            newState.filtersOrigin = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n\n            newState.filtersTitleOrigin = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n\n            newState.datares = action.data;\n            newState.schemaFilter = action.schema;\n            newState.filtersLocal = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n\n            newState.filtersTitleLocal = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n            newState.dataresLocal = action.data;\n            newState.schemaFilterLocal = action.schema;\n            //  newState.filtersChangeFlag = false;\n            //console.log(\"CONNECT_DATA\", newState)\n            return newState\n        case ActionType.UPDATE_COMMENT_STORY_INFO:\n            //sessionStorage.setItem('storyData', JSON.stringify(action.visData));\n            newState.facts = action.facts;\n            newState.relations = action.relations;\n            newState.schema = action.schema;\n            newState.data = action.data;\n            newState.title = action.title || '';\n            newState.subtitle = action.subtitle || '';\n            newState.fileName = action.fileName || '';\n            newState.real_filename = action.real_filename || '';\n            newState.storyParameter = action.storyParameter\n            newState.aggregationLevel = action.aggregationLevel;\n            newState.resultCoverage = action.resultCoverage;\n            newState.historyStory = {\n                historyfacts: newState.facts,\n                historyTitle: newState.title,\n                historySubtitle: newState.subtitle,\n                historStoryParameter: newState.storyParameter,\n                historyAggregationLevel: newState.aggregationLevel,\n                historyResultCoverage: newState.resultCoverage\n            }\n\n            newState.filters = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n            newState.filtersTitle = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n\n            newState.datares = action.data;\n            newState.schemaFilter = action.schema;\n\n            newState.filtersLocal = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\").map(d => {\n                if (d.type === 'numerical') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values.map(d => d.replace(',', '')), 'value1': [Math.min(...d.values.map(d => d.replace(',', ''))), Math.max(...d.values.map(d => d.replace(',', '')))] };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values, 'value2': [0, 100], 'value3': [0, d.values.length - 1] };\n                } else {\n                    return { 'field': d.field, 'type': 'equal', 'value': d.values }\n                }\n\n            });\n\n            newState.filtersTitleLocal = action.schema.filter(d => d.type !== 'text' && d.type !== \"ID\" && (d.type === 'categorical' || d.type === 'temporal'||d.type==='geographical')).map(d => {\n                if (d.type === 'categorical'||d.type==='geographical') {\n                    return { 'field': d.field, 'type': d.type, 'title': 'All ' + convertField(d.field, 'plural') };\n                } else if (d.type === 'temporal') {\n                    return { 'field': d.field, 'type': 'temporal', 'title': d.values[0] + '-' + d.values[d.values.length - 1] };\n                }\n            });\n            newState.dataresLocal = action.data;\n            newState.schemaFilterLocal = action.schema;\n            //  newState.filtersChangeFlag = false;\n            return newState\n        case ActionType.VISUALIZE_DATA:\n            // sessionStorage.setItem('visData', JSON.stringify(action.visData));\n            newState.visData = action.visData\n            return newState\n        case ActionType.UPDATE_UUID:\n            localStorage.setItem('uuid', JSON.stringify(action.uuid));\n            newState.uuid = action.uuid\n            return newState\n        case ActionType.UPDATE_DATA_URL:\n            newState.generateUrl = action.generateUrl\n            return newState\n        //change facts to animated facts\n        case ActionType.CHANGE_TO_ANIMATION:\n            newState.animationFlag = action.animationFlag\n            return newState\n\n        //pannel width update\n        case ActionType.UPDATE_PANNEL_WIDTH:\n            newState.leftPaneWidth = action.leftPaneWidth\n            newState.rightPaneWidth = action.rightPaneWidth\n            return newState\n            \n        //editor filters\n        case ActionType.UPDATE_FILTERS:\n            let schemaNoTextID = _.cloneDeep(newState.schema).filter(d => d.type !== 'text' && d.type !== \"ID\")\n\n            let dataclone = _.cloneDeep(newState.data);\n            let datares1 = [];\n            let filters = action.filters;\n            filters.map((item, index) => {\n                datares1 = [];\n\n                let itemfield = item.field;//Brand\n                item.value.map(item1 => {//BMW,Ford\n                    if (schemaNoTextID[index].type === \"numerical\") datares1.push(...dataclone.filter(filter => filter[itemfield] == parseFloat(item1)))\n                    else datares1.push(...dataclone.filter(filter => filter[itemfield] == item1))\n\n                })\n                dataclone = datares1;\n\n            })\n         \n            let schemaFilter1 = _.cloneDeep(newState.schema)\n            let filtersField = [];\n            for(let i = 0; i < filters.length; i++) {\n                filtersField.push(filters[i].field);\n            }\n\n            for(let i=0; i<schemaFilter1.length;i++){\n                if(schemaFilter1[i].type===\"ID\"||schemaFilter1[i].type===\"text\") {continue;}\n                let field = schemaFilter1[i].field;\n                let filtersIndex = filtersField.indexOf(field);\n                \n                schemaFilter1[i].values = _.cloneDeep(filters[filtersIndex].value);\n                if (schemaFilter1[i].type === \"numerical\") {\n                    schemaFilter1[i].mean = d3.mean(filters[filtersIndex].value)\n                    schemaFilter1[i].median = d3.median(filters[filtersIndex].value)\n                    schemaFilter1[i].std = d3.deviation(filters[filtersIndex].value)\n                    schemaFilter1[i].var = d3.variance(filters[filtersIndex].value)\n                }\n            }\n            newState.filters = action.filters;\n            newState.datares = datares1;\n            newState.schemaFilter = schemaFilter1;\n\n            return newState;\n        case ActionType.UPDATE_FILTERS_TITLE:\n            newState.filtersTitle = action.filtersTitle;\n            return newState;\n        case ActionType.UPDATE_DATARES:\n            newState.datares = action.dateres;\n            return newState;\n        case ActionType.UPDATE_SCHEMA_FILTER:\n            newState.schemaFilter = action.schemaFilter;\n            return newState;\n        case ActionType.UPDATE_FILTERS_CHANGE_FLAG:\n            newState.filtersChangeFlag = action.filtersChangeFlag;\n            return newState;\n        case ActionType.UPDATE_FILTERS_LOCAL:\n            newState.filtersLocal = action.filtersLocal;\n            newState.schemaFilterLocal = action.schemaFilterLocal;\n            newState.dataresLocal = action.dataresLocal;\n            newState.filtersTitleLocal = action.filtersTitleLocal;\n            return newState;\n        // Meta\n        case ActionType.UNDO:\n            if (state.specIndex === 0) {\n                return state\n            }\n            else {\n                const newState = Object.assign({},state)\n                newState.facts = state.timeline[state.specIndex-1].facts\n                newState.title = state.timeline[state.specIndex-1].title\n                newState.subtitle=state.timeline[state.specIndex-1].subtitle\n                newState.filters=state.timeline[state.specIndex-1].filters\n                newState.filtersTitle=state.timeline[state.specIndex-1].filtersTitle\n                newState.datares=state.timeline[state.specIndex-1].datares\n                newState.schemaFilter=state.timeline[state.specIndex-1].schemaFilter\n                newState.filtersTitleLocal=state.timeline[state.specIndex-1].filtersTitleLocal\n                newState.filtersLocal=state.timeline[state.specIndex-1].filtersLocal\n                newState.dataresLocal=state.timeline[state.specIndex-1].dataresLocal\n                newState.schemaFilterLocal=state.timeline[state.specIndex-1].schemaFilterLocal\n                // newState.unusedFacts=state.timeline[state.specIndex-1].unusedFacts\n                // newState.recommendedSfacts=state.timeline[state.specIndex-1].recommendedSfacts\n                // newState.recommendedEfacts=state.timeline[state.specIndex-1].recommendedEfacts\n                newState.recommendedMfacts=[]\n                //恢复默认值\n                newState.hoverFactIndex=-1;\n                newState.selectedFactIndex=\"\";\n                newState.editstate=false;\n                newState.editingCurrentFact=null;\n                newState.specIndex--;\n                return newState\n            }\n        case ActionType.REDO:\n            if (state.specIndex === state.timeline.length-1) {\n                return state\n            }\n            else {\n                const newState = Object.assign({},state);\n                newState.facts = state.timeline[state.specIndex+1].facts\n                newState.title = state.timeline[state.specIndex+1].title\n                newState.subtitle=state.timeline[state.specIndex+1].subtitle\n                newState.filters=state.timeline[state.specIndex+1].filters\n                newState.filtersTitle=state.timeline[state.specIndex+1].filtersTitle\n                newState.datares=state.timeline[state.specIndex+1].datares\n                newState.schemaFilter=state.timeline[state.specIndex+1].schemaFilter\n                newState.filtersTitleLocal=state.timeline[state.specIndex+1].filtersTitleLocal\n                newState.filtersLocal=state.timeline[state.specIndex+1].filtersLocal\n                newState.dataresLocal=state.timeline[state.specIndex+1].dataresLocal\n                newState.schemaFilterLocal=state.timeline[state.specIndex+1].schemaFilterLocal\n                // newState.unusedFacts=state.timeline[state.specIndex+1].unusedFacts\n                // newState.recommendedSfacts=state.timeline[state.specIndex+1].recommendedSfacts\n                // newState.recommendedEfacts=state.timeline[state.specIndex+1].recommendedEfacts\n                newState.recommendedMfacts=[]\n                //恢复默认值\n                newState.hoverFactIndex=-1;\n                newState.selectedFactIndex=\"\";\n                newState.editstate=false;\n                newState.editingCurrentFact=null;\n                newState.specIndex ++;\n                return newState\n            }\n\n        default:\n            break;\n    }\n    return newState;\n}","import ActionType from '../action/type';\nimport LayoutType from '@/constant/LayoutType';\nimport Cookies from 'js-cookie';\nimport OperationType from '@/constant/OperationType'\nimport ConvertType from '@/constant/ConvertType'\n\nlet userInfo = Cookies.get(\"userInfo\") && JSON.parse(Cookies.get(\"userInfo\")) ? JSON.parse(Cookies.get(\"userInfo\")) : {\n    username: \"\",\n    uid: -1\n}\n\nconst initialState = {\n    isLogin: userInfo.uid !== -1,\n    userInfo: userInfo,\n    operateState: OperationType.BEFORE_UPLOAD,// BEFORE_UPLOAD  UPLOADIND UPLOADED FILE_LARGE  GENERATING GENERATED,PUBLISHED\n    convertType: ConvertType.FACTSHEET,\n    currentLocale: '',\n    //\n    clickedMenue: '',\n    isCollapsed: true,\n    isLeftCollapsed: false,\n    updateHeaderbarToggle: false, //默认按钮点击后可以折叠/收缩右侧面板,\n    isOpenLeftFloatMenue: false,\n    layoutType: LayoutType.FACTSHEET,\n    isMobilephoneEnd: false,\n    windowUpScroller: {},\n    userEndSize: '',\n    userEnd:'',\n    cardNumber: 5,\n    isHiddenCommentAStory: false,\n    lastPage:'',\n    OperateRelatedId:{},\n    isShareStory: false,\n    isShowGenerate: false,\n    newPage: '',\n    isToLogout: false,\n    isLeaveCreatePage: false,\n    isInterruptProcess: false,\n    factsheetLayoutType:'Vertical',\n}\n\nexport default (state = initialState, action) => {\n    const newState = Object.assign({}, state);\n    switch (action.type) {\n        case ActionType.UPDATE_USER_INFO:\n            newState.userInfo = action.userInfo;\n            if (action.userInfo.uid === -1) {\n                newState.isLogin = false\n            } else {\n                newState.isLogin = true\n            }\n            return newState;\n\n        case ActionType.UPDATE_USER_OPERATION:\n            newState.operateState = action.operateState\n            return newState;\n        case ActionType.UPDATE_CONVERT_TYPE:\n            newState.convertType = action.convertType\n            return newState;\n        case ActionType.UPDATE_LOCALE:\n            newState.currentLocale = action.currentLocale\n            return newState;\n        // //\n        case ActionType.UPDATE_CLICKED_MENUE:\n            localStorage.setItem('clickedMenue', JSON.stringify(action.item));\n            newState.clickedMenue = action.item;\n            //console.log(\"UPDATE_CLICKED_MENUE\",action.item)\n            return newState;\n        case ActionType.UPDATE_COLLAPSED:\n            // localStorage.setItem('isCollapsed', JSON.stringify(action.isCollapsed));\n            newState.isCollapsed = action.isCollapsed;\n            //console.log(\"UPDATE_COLLAPSED\", newState.isCollapsed)\n            return newState;\n        case ActionType.UPDATE_LEFT_COLLAPSED:\n            // localStorage.setItem('isCollapsed', JSON.stringify(action.isCollapsed));\n            newState.isLeftCollapsed = action.isLeftCollapsed;\n            //console.log(\"UPDATE_COLLAPSED\", newState.isCollapsed)\n            return newState;\n        case ActionType.UPDATE_HEADERBAR_TOGGLE:\n            newState.updateHeaderbarToggle = action.isChangeToggle;\n            return newState;\n        case ActionType.OPEN_LEFT_FOLAT_MENUE:\n            newState.isOpenLeftFloatMenue = action.isOpenLeftFloatMenue;\n            return newState;\n        case ActionType.CHANGE_LAYOUT_TYPE:\n            //localStorage.setItem('layoutType', JSON.stringify(action.layoutType));\n            newState.layoutType = action.layoutType\n            return newState;\n        case ActionType.CHANGE_USEREND:\n            newState.isMobilephoneEnd = action.isMobilephoneEnd\n            return newState;\n        case ActionType.WINDOW_UP_SCROLL:\n            newState.isWindowUpScroll = action.isWindowUpScroll\n            return newState;\n        case ActionType.UPDATA_USER_END_SIZE:\n            newState.userEndSize = action.userEndSize\n            //console.log(\"UPDATA_USER_END_SIZE\",action.userEndSize)\n            return newState;\n        case ActionType.UPDATE_STORY_CARD_NUMBER:\n            newState.cardNumber = action.cardNumber\n            return newState;\n        case ActionType.IS_HIDDEN_COMMENT_STORY:\n            newState.isHiddenCommentAStory = action.isHidden\n            return newState;\n        case ActionType.UPDATE_LAST_PAGE:\n            sessionStorage.setItem('lastPage', JSON.stringify(action.lastPage));\n            newState.lastPage = action.lastPage\n            return newState;\n        case ActionType.UPDATE_SID:\n            localStorage.setItem('OperateRelatedId', JSON.stringify(action.OperateRelatedId));\n            newState.OperateRelatedId = action.OperateRelatedId\n            return newState;\n        case ActionType.SHARE_STORY:\n            newState.isShareStory = action.isShareStory\n            //console.log(\"ActionType.SHARE_STORY\",action.isShareStory)\n            return newState;\n        case ActionType.IS_GENERATE_STORY:\n            newState.isShowGenerate = action.isShowGenerate\n            return newState;\n        case ActionType.TO_NEW_PAGE:\n            newState.newPage = action.newPage\n            return newState;\n        case ActionType.IS_CLICKED_LOGOUT:\n            newState.isToLogout = action.isLogOut\n            return newState;\n        case ActionType.LEAVE_CREATE_PAGE:\n            newState.isLeaveCreatePage = action.isLeaving\n            return newState;\n        case ActionType.IS_INTERRUPT_PROCESS:\n            newState.isInterruptProcess = action.isInterruptProcess\n            return newState;\n        case ActionType.CHANGE_FACTSHEET_LAYOUT_TYPE:\n            newState.factsheetLayoutType = action.factsheetLayoutType\n            return newState;\n        default:\n            break;\n\n    }\n    return newState;\n}","import ActionType from '@/action/type';\n\nconst initialState = {\n    containerSize: {\n        // width: \"750\",\n        // height: \"550\"\n    }\n};\n\nexport default (state = initialState, action) => {\n    const newState = Object.assign({}, state);\n    switch (action.type) {\n        case ActionType.UPDATE_VIS_CONTAINER_SIZE:\n            //console.log(\"UPDATE_VIS_CONTAINER_SIZE\",action.containerSize)\n            newState.containerSize = action.containerSize;\n            return newState;\n        default:\n            break;\n    }\n    return newState;\n}      ","import { combineReducers } from 'redux';\nimport story from './story';\nimport user from './user';\nimport vis from './vis'\n\nexport default combineReducers({\n    story,\n    user,\n    vis\n});","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducer';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n\nconst middlewares = [\n    thunk\n]\n\nif (process.env.NODE_ENV === 'development' && process.env.TARO_ENV !== 'quickapp') {\n    middlewares.push(require('redux-logger').createLogger())\n}\n\nfunction configureStore(initialState = {}) {\n    return createStore(\n        rootReducer,\n        initialState,\n        composeEnhancers(\n            applyMiddleware(...middlewares)\n        )\n    );\n}\n\nconst store = configureStore();\n\nexport default store;","import React, { Component } from \"react\";\n\n\nexport default class LazyLoading extends Component {\n    render() {\n        const { isLoading, error } = this.props\n        // Handle the loading state\n        if (isLoading) {\n            return <div>Loading...</div>;\n        }\n        // Handle the error state\n        else if (error) {\n            return <div>Sorry, there was a problem loading the page.</div>;\n        }\n        else {\n            return null;\n        }\n    }\n};\n\n","import LazyLoading from '@/components/LazyLoadingView/LazyLoading'\nimport Loadable from 'react-loadable'\n\n//React Router Code Spliting \nlet Loading = (url) => {\n    return Loadable({\n        loader: () => import(`@/pages/${url}`),\n        loading: LazyLoading\n    });\n}\nexport default Loading","import React from 'react';\nimport { connect } from 'react-redux'\nimport * as userAction from './action/userAction'\nimport LazyLoading from '@/components/LazyLoadingView/index'\n\n\nimport './App.less';\nimport './common.less';\nimport intl from 'react-intl-universal';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  // useParams\n} from \"react-router-dom\";\n// common locale data\nrequire('intl/locale-data/jsonp/en.js');\nrequire('intl/locale-data/jsonp/zh.js');\n\n// app locale data\nconst locales = {\n  \"en-US\": require('./locales/en-US.json'),\n  \"zh-CN\": require('./locales/zh-CN.json'),\n};\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateLocale: (currentLocale) => dispatch(userAction.updateLocale(currentLocale)),\n  }\n}\nconst mapStateToProps = (state) => ({\n})\n\nclass App extends React.Component {\n\n  state = {\n    initDone: false,\n    currentLocale: ''\n  }\n\n  loadLocales(lang) {\n    // init method will load CLDR locale data according to currentLocale\n    // react-intl-universal is singleton, so you should init it only once in your app\n    intl.init({\n      currentLocale: lang,\n      locales,\n    })\n      .then(() => {\n        this.props.updateLocale(lang)\n        // After loading CLDR locale data, start to render\n        this.setState(\n          { initDone: true, currentLocale: lang });\n      });\n  }\n\n  initDefaultLang = () => {\n    let userDefaultLang = navigator.language || navigator.userLanguage;//常规浏览器语言和IE浏览器\n    let lang = userDefaultLang.substr(0, 2);//截取lang前2位字符\n    if (lang === 'zh') {\n      lang = \"zh-CN\"\n    } else {\n      lang = \"en-US\"\n    }\n    if (this.state.currentLocale !== lang) {\n      this.loadLocales(lang)\n    }\n  }\n\n  componentDidMount() {\n    this.initDefaultLang()\n  }\n  render() {\n    const { initDone, currentLocale } = this.state\n\n\n    const MyRoute = ({ MyComponent, ...rest }) => {\n      return (\n        <Route\n          {...rest}\n          render={routerProps => (\n            <MyComponent\n              intl={intl}\n              initDone={initDone}\n              currentLocale={currentLocale}\n              onChangeLocaleListener={lang => this.loadLocales(lang)}\n              {...routerProps} ></MyComponent>)\n          } />\n      )\n    }\n\n    return (\n      <Router>\n        <Switch>\n          <MyRoute exact path='/' MyComponent={LazyLoading(\"Homepage/index\")} />\n          {/* <MyRoute exact path='/edit/factsheet' MyComponent={LazyLoading('EditPage/EditFactsheet/index')} />\n          <MyRoute exact path='/edit/datavideos' MyComponent={LazyLoading(\"EditPage/EditDataVideos/index\")} />\n          <MyRoute exact path='/edit/datacomics' MyComponent={LazyLoading(\"EditPage/EditDataComics/index\")} />\n          <MyRoute exact path='/edit/dashbooard' MyComponent={LazyLoading(\"EditPage/EditDashboard/index\")} />\n          <MyRoute exact path='/H5/:id' MyComponent={LazyLoading(\"H5page/index\")} /> */}\n          <MyRoute exact path='/edit/factsheetNew' MyComponent={LazyLoading('EditPage/EditFactsheetNew/index')} />\n        </Switch>\n      </Router>\n    )\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store';\nimport './index.css';\nimport 'calliope-chart/lib/font.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export default {\n    SIMILARITY: 'similarity',\n    ELABORATION: 'elaboration',\n    GENERALIZATION: 'generalization',\n    CONTRAST: 'contrast',\n    TEMPORAL: 'temporal',\n    CAUSE: 'cause-effect',\n    OTHERS: 'others'\n}","export default {\n    NUMERICAL: 'numerical',\n    CATEGORICAL: 'categorical',\n    TEMPORAL: 'temporal',\n    GEOGRAPHICAL: 'geographical',\n    Text:'text'\n}","export default {\n    JUXTAPOSITION: 'juxtaposition',\n    AREA_CHART: 'Area Chart',\n    VERTICAL_BAR_CHART: 'Vertical Bar Chart',\n    VERTICAL_DIFFERENCE_BAR_CHART: 'Vertical Difference Bar Chart',\n    VERTICAL_DIFFERENCE_ARROW_CHART: 'Vertical Difference Arrow Chart',\n    HORIZONTAL_BAR_CHART: 'Horizontal Bar Chart',\n    PROGRESS_BAR_CHART: 'Progress Bar Chart',\n    STACKED_BAR_CHART: 'Stacked Bar Chart',\n    ISOTYPE_BAR_CHART: 'Isotype Bar Chart',\n    PROPORTION_ISOTYPE_CHART: 'Proportion Isotype Chart',\n    COLOR_FILLING_MAP: 'Color Filling Map',\n    BUBBLE_CHART: 'Bubble Chart',\n    TEXT_CHART: 'Text Chart',\n    LINE_CHART: 'Line Chart',\n    STACKED_LINE_CHART: 'Stacked Line Chart',\n    RING_CHART: 'Ring Chart',\n    HALF_RING_CHART: 'Half Ring Chart',\n    PIE_CHART: 'Pie Chart',\n    SCATTER_PLOT: 'Scatter Plot',\n    TREE_MAP: 'Treemap',\n    BUBBLE_MAP: 'Bubblemap'\n}","const datafilter = (data, subspace) => {\n    let filteredData = data;\n    for (const sub of subspace) {\n        filteredData = filteredData.filter((x)=>x[sub.field]===sub.value)\n    }\n    return filteredData\n}\n\nexport default datafilter;","import FactType from '../constant/FactType';\nimport ChartType from '../constant/ChartType';\nimport FieldType from '../constant/FieldType';\n//权重\nexport const fact2visAllRules = [\n    //association \n    {\n        \"fact\": FactType.ASSOCIATION,\n        \"chart\": ChartType.SCATTER_PLOT,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL]\n    },\n    //outlier\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n        //\"rang\": [0, 9]\n    },\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.AREA_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL]\n    },\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.LINE_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL]\n    },\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.BUBBLE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n        \"rang\": [6, 9]\n    },\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    // {\n    //     \"fact\": FactType.OUTLIER,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    //extreme\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n        //\"rang\": [0, 9]\n    },\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.TEXT_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.LINE_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    // {\n    //     \"fact\": FactType.EXTREME,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    //proportion\n    {\n        \"fact\": FactType.PROPORTION,\n        \"chart\": ChartType.PROGRESS_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL,FieldType.GEOGRAPHICAL,FieldType.Text],\n    },\n    {\n        \"fact\": FactType.PROPORTION,\n        \"chart\": ChartType.TREE_MAP,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL,FieldType.GEOGRAPHICAL,FieldType.Text],\n    },\n    {\n        \"fact\": FactType.PROPORTION,\n        \"chart\": ChartType.RING_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL,FieldType.GEOGRAPHICAL,FieldType.Text],\n    },\n    {\n        \"fact\": FactType.PROPORTION,\n        \"chart\": ChartType.PIE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL,FieldType.GEOGRAPHICAL,FieldType.Text],\n    },\n    // {\n    //     \"fact\": FactType.PROPORTION,\n    //     \"chart\": ChartType.COLOR_FILLING_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.PROPORTION,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.PROPORTION,\n    //     \"chart\": ChartType.VERTICAL_BAR_CHART,\n    //     \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    //     \"rang\": [0, 9]\n    // },\n\n    //rank\n    {\n        \"fact\": FactType.RANK,\n        \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL,FieldType.GEOGRAPHICAL],\n    },\n    // {\n    //     \"fact\": FactType.RANK,\n    //     \"chart\": ChartType.COLOR_FILLING_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.RANK,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.RANK,\n    //     \"chart\": ChartType.LINE_CHART,\n    //     \"breakdownType\": [FieldType.TEMPORAL],\n    // },\n    //distribution\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.BUBBLE_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.BUBBLE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.AREA_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.TREE_MAP,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n        \"rang\": [6, 10000]\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n        \"rang\": [0, 9]\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.PIE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    },\n    //difference\n    {\n        \"fact\": FactType.DIFFERENCE,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.DIFFERENCE,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n        // \"rang\": [0, 9]\n    },\n    // {\n    //     \"fact\": FactType.DIFFERENCE,\n    //     \"chart\": ChartType.TEXT_CHART,\n    //     \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    // },\n    {\n        \"fact\": FactType.DIFFERENCE,\n        \"chart\": ChartType.PIE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.DIFFERENCE,\n        \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    },\n    //categorization\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.TREE_MAP,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [6, 10000]\n    },\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [0, 9]\n    },\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.BUBBLE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [6, 9]\n    },\n    //trend\n    {\n        \"fact\": FactType.TREND,\n        \"chart\": ChartType.LINE_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.TREND,\n        \"chart\": ChartType.AREA_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.TREND,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"rang\": [0, 9],\n        \"breakdownType\": [FieldType.TEMPORAL, FieldType.CATEGORICAL],\n    },\n    // {\n    //     \"fact\": FactType.TREND,\n    //     \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n    //     \"rang\": [0, 9],\n    //     \"breakdownType\": [FieldType.TEMPORAL],\n    // },\n    {\n        \"fact\": FactType.TREND,\n        \"chart\": ChartType.BUBBLE_CHART,\n        \"rang\": [6, 9],\n        \"breakdownType\": [FieldType.TEMPORAL, FieldType.TEMPORAL],\n    },\n    // {\n    //     \"fact\": FactType.TREND,\n    //     \"chart\": ChartType.SCATTER_PLOT,\n    //     \"breakdownType\": [FieldType.TEMPORAL],\n    // },\n    //value\n    {\n        \"fact\": FactType.VALUE,\n        \"chart\": ChartType.TEXT_CHART,\n        \"breakdownType\": [],\n    },\n    {\n        \"fact\": FactType.VALUE,\n        \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n        \"breakdownType\": [],\n    },\n    {\n        \"fact\": FactType.VALUE,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        // \"rang\": [0, 9],\n        \"breakdownType\": [],\n    },\n    {\n        \"fact\": FactType.VALUE,\n        \"chart\": ChartType.BUBBLE_MAP,\n        \"breakdownType\": [],\n    },\n    {\n        \"fact\": FactType.VALUE,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [],\n    }\n]","import FactType from '../constant/FactType';\nimport ChartType from '../constant/ChartType';\nimport FieldType from '../constant/FieldType';\n//权重\nexport const fact2visRules = [\n    //association \n    {\n        \"fact\": FactType.ASSOCIATION,\n        \"chart\": ChartType.SCATTER_PLOT,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL]\n    },\n    //outlier\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.CATEGORICAL],\n        // \"rang\": [0, 9]\n    },\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.AREA_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL]\n    },\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.LINE_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL]\n    },\n    {\n        \"fact\": FactType.OUTLIER,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n        // \"rang\": [0, 9]\n    },\n    // {\n    //     \"fact\": FactType.OUTLIER,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    //     // \"rang\": [0, 9]\n    // },\n    // {\n    //     \"fact\": FactType.OUTLIER,\n    //     \"chart\": ChartType.BUBBLE_CHART,\n    // \"rang\": [6, 9]\n    // },\n    //extreme\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL, FieldType.CATEGORICAL],\n        // \"rang\": [0, 9]\n    },\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.TEXT_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n    },\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.LINE_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.EXTREME,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    // {\n    //     \"fact\": FactType.EXTREME,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    //proportion\n    {\n        \"fact\": FactType.PROPORTION,\n        \"chart\": ChartType.PROGRESS_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL,FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.PROPORTION,\n        \"chart\": ChartType.RING_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL,FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.PROPORTION,\n        \"chart\": ChartType.PIE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL,FieldType.GEOGRAPHICAL],\n    },\n    // {\n    //     \"fact\": FactType.PROPORTION,\n    //     \"chart\": ChartType.COLOR_FILLING_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.PROPORTION,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.PROPORTION,\n    //     \"chart\": ChartType.VERTICAL_BAR_CHART,\n    //\"rang\": [0, 9]\n    // },\n    // {\n    //     \"fact\": FactType.PROPORTION,\n    //     \"chart\": ChartType.TEXT_CHART,\n    // },\n\n    //rank\n    {\n        \"fact\": FactType.RANK,\n        \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n    },\n    // {\n    //     \"fact\": FactType.RANK,\n    //     \"chart\": ChartType.COLOR_FILLING_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.RANK,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    //     \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    // },\n    // {\n    //     \"fact\": FactType.RANK,\n    //     \"chart\": ChartType.LINE_CHART,\n    //     \"breakdownType\": [FieldType.CATEGORICAL, FieldType.TEMPORAL],\n    // },\n    //distribution\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.BUBBLE_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.AREA_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.TREE_MAP,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [6, 10000]\n    },\n    {\n        \"fact\": FactType.DISTRIBUTION,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [0, 9]\n    },\n    // {\n    //     \"fact\": FactType.DISTRIBUTION,\n    //     \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n    // },\n    // {\n    //     \"fact\": FactType.DISTRIBUTION,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    // },\n    // {\n    //     \"fact\": FactType.DISTRIBUTION,\n    //     \"chart\": ChartType.PIE_CHART,\n    // },\n    //difference\n    {\n        \"fact\": FactType.DIFFERENCE,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.DIFFERENCE,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n    },\n    // {\n    //     \"fact\": FactType.DIFFERENCE,\n    //     \"chart\": ChartType.TEXT_CHART,\n    //     \"breakdownType\": [FieldType.CATEGORICAL],\n    // },\n    // {\n    //     \"fact\": FactType.DIFFERENCE,\n    //     \"chart\": ChartType.PIE_CHART,\n    // },\n    // {\n    //     \"fact\": FactType.DIFFERENCE,\n    //     \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n    // },\n    //categorization\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.COLOR_FILLING_MAP,\n        \"breakdownType\": [FieldType.GEOGRAPHICAL],\n    },\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.TREE_MAP,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [6, 10000]\n    },\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.VERTICAL_BAR_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [0, 9]\n    },\n    {\n        \"fact\": FactType.CATEGORIZATION,\n        \"chart\": ChartType.BUBBLE_CHART,\n        \"breakdownType\": [FieldType.CATEGORICAL],\n        \"rang\": [6, 9]\n    },\n    //trend\n    {\n        \"fact\": FactType.TREND,\n        \"chart\": ChartType.LINE_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    {\n        \"fact\": FactType.TREND,\n        \"chart\": ChartType.AREA_CHART,\n        \"breakdownType\": [FieldType.TEMPORAL],\n    },\n    // {\n    //     \"fact\": FactType.TREND,\n    //     \"chart\": ChartType.VERTICAL_BAR_CHART,\n    //  \"rang\": [0, 9]\n    // },\n    // {\n    //     \"fact\": FactType.TREND,\n    //     \"chart\": ChartType.BUBBLE_CHART,\n    //\"rang\": [6, 9]\n    // },\n\n    //value\n    {\n        \"fact\": FactType.VALUE,\n        \"chart\": ChartType.TEXT_CHART,\n        \"breakdownType\": [],\n    },\n    // {\n    //     \"fact\": FactType.VALUE,\n    //     \"chart\": ChartType.HORIZONTAL_BAR_CHART,\n    // },\n    // {\n    //     \"fact\": FactType.VALUE,\n    //     \"chart\": ChartType.VERTICAL_BAR_CHART,\n    // \"rang\": [0, 9]\n    // },\n    // {\n    //     \"fact\": FactType.VALUE,\n    //     \"chart\": ChartType.BUBBLE_MAP,\n    // },\n    // {\n    //     \"fact\": FactType.VALUE,\n    //     \"chart\": ChartType.COLOR_FILLING_MAP,\n    // }\n]","import {\n    fact2visRules\n} from './fact2visRule';\nimport {\n    fact2visAllRules\n} from './fact2visAllRule';\nimport FieldType from '@/constant/FieldType';\n\n/****\n * 过滤规则： 根据fact.type 和 breakDown.type 筛选支持的图表\n * 其中isEdit===false表示生成阶段，生成阶段优先在推荐规则中过滤，如果找不到，会在全部支持的规则中过滤\n *     isEdit===ture表示编辑阶段，在全部支持的规则中过滤\n */\n\nconst getSupportedChartTypes = (fact, schema, isEdit = false) => {  \n    let breakDown = schema.filter(s => s[\"field\"] === fact.groupby[0])[0];\n    let supportedChartTypes;\n    let rules = isEdit ? fact2visAllRules : fact2visRules;//fact2visRules是推荐规则 \n    supportedChartTypes = rules.filter(x => x.fact === fact.type);\n    if (breakDown) {\n        supportedChartTypes = supportedChartTypes.filter(x => x.breakdownType.indexOf(breakDown.type) !== -1);\n        if (breakDown.type === FieldType.CATEGORICAL && breakDown.values) {\n            supportedChartTypes = supportedChartTypes.filter(x => {\n                if (!x.rang) {\n                    return true\n                } else {\n                    return breakDown.values.length >= x.rang[0] && breakDown.values.length <= x.rang[1]\n                }\n            });\n        }\n        /*******important**** 找不到推荐的图表，就用可以支持的图表显示*****/\n        if (supportedChartTypes.length === 0 && !isEdit) {\n            supportedChartTypes = getSupportedChartTypes(fact, schema, true)\n        }\n        /*******important the end *********/\n    }\n    //console.log(\"supportedChartTypes\", supportedChartTypes)\n    return supportedChartTypes;\n};\nexport default getSupportedChartTypes;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, in general, there is a {{positive/negative}} correlation between {{measure1}} and {{measure2}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, in general, {{measure2}} has a {{positive/negative}} relationship with {{measure1}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, in general, {{measure2}} has a {{positive/negative}} relationship with {{measure1}} (Pearson correlation coefficient = {{parameter}}).',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, there are {{parameter}} categories of {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, the data are grouped into {{parameter}} {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, the data include {{parameter}} groups of {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, the difference between {{focus1}} and {{focus2}} is {{parameter}} in terms of {{agg}} {{measure}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, {{focus1}} and {{focus2}}\\'s difference on the {{agg}} {{measure}} is {{parameter}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, {{focus1}} is {{parameter}} {{higher/lower}} than {{focus2}} in terms of {{agg}} {{measure}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, the distribution of the {{agg}} {{measure}}, by different {{groupby}}s, is as follows.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, the breakdown of the {{agg}} {{measure}}, by different {{groupby}}s, is as follows.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, here is the distribution of the {{agg}} {{measure}}, by different {{groupby}}s.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, among all {{groupby}}s, {{parameter[0]}} has the {{focus}} {{agg}} {{measure}} value, which is {{parameter[1]}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, {{parameter[0]}} is the {{groupby}} that has the {{focus}} {{agg}} {{measure}} value, which is {{parameter[1]}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, among all {{groupby}}s, {{parameter[0]}} has the {{focus}} {{agg}} {{measure}} value.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, the {{agg}} {{measure}} of {{focus}} is an outlier when compared with that of other {{groupby}}s.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, {{focus}}\\'s {{agg}} {{measure}} is anomalously different from that of other {{groupby}}s\\'.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, the {{agg}} {{measure}} of {{focus}} is anomalously different when compared with that of other {{groupby}}s.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, the {{focus}} accounts for {{parameter}} of the {{agg}} {{measure}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, the {{focus}} makes up {{parameter}} of the {{agg}} {{measure}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, the percentage of the {{focus}} in {{agg}} {{measure}} is {{parameter}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, the top three {{groupby}}s, ordered by their {{agg}} {{measure}}, are {{no.1}}, {{no.2}}, and {{no.3}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, {{no.1}}, {{no.2}}, and {{no.3}} are the three {{groupby}}s that have the highest {{agg}} {{measure}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, {{no.1}}, {{no.2}}, and {{no.3}} are the top three {{groupby}}s in terms of {{agg}} {{measure}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, the {{agg}} {{measure}}  is {{parameter}} over time in general.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, the {{agg}} {{measure}}  has a/an {{parameter}} trend.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, the {{agg}} {{measure}}  is {{parameter}} over the {{groupby}}s in general.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, the {{agg}} {{measure}} is {{parameter}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, the value of the {{agg}} {{measure}} is {{parameter}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, the {{agg}} value of {{measure}} is {{parameter}}.',\n    },\n]\n\nexport default templates;","import FactType from '../../constant/FactType';\nimport association from './association';\nimport categorization from './categorization';\nimport difference from './difference';\nimport distribution from './distribution';\nimport extreme from './extreme';\nimport outlier from './outlier';\nimport proportion from './proportion';\nimport rank from './rank';\nimport trend from './trend';\nimport value from './value';\n\nconst templateCount = 3;\n\nconst pickFactTemplate = function(type, id=-1) {\n    // pick randomly when id == -1\n    let templates = []\n    switch (type) {\n        case FactType.ASSOCIATION:\n            templates = association;\n            break;\n\n        case FactType.CATEGORIZATION:\n            templates = categorization;\n            break;\n\n        case FactType.DIFFERENCE:\n            templates = difference;\n            break;\n\n        case FactType.DISTRIBUTION:\n            templates = distribution;\n            break;\n\n        case FactType.EXTREME:\n            templates = extreme;\n            break;\n\n        case FactType.OUTLIER:\n            templates = outlier;\n            break;\n\n        case FactType.PROPORTION:\n            templates = proportion;\n            break;\n\n        case FactType.RANK:\n            templates = rank;\n            break;\n\n        case FactType.TREND:\n            templates = trend;\n            break;\n\n        case FactType.VALUE:\n            templates = value;\n            break;\n    \n        default:\n            break;\n    }\n    if (id === -1) {\n        id = Math.floor(Math.random() * 10)%templateCount\n    }\n    let sentence = '';\n    try {\n        sentence = templates[id].template;\n    }\n    catch(error) {\n        console.error(error);\n        console.log('wrong id:'+id)\n    }\n    return sentence;\n}\n\nexport default pickFactTemplate;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时，总体看， {{measure1}} 和 {{measure2}} 之间存在 {{正/负}} 相关关系.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时，总体看， {{measure1}} 和 {{measure2}} 呈 {{正/负}} 相关.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，总体看， {{measure1}} 和 {{measure2}} 呈 {{正/负}} 相关（皮尔森相关系数={{parameter}}）.',\n    }\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时， {{groupby}} 包含了 {{parameter}} 个类别: {{no.1}}、{{no.2}}、{{no.3}}',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时，数据中的 {{groupby}}s 可以被归为 {{parameter}} 类，包括 {{no.1}}、{{no.2}}、{{no.3}}',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，数据中包含 {{parameter}} 种 {{groupby}}s，分别是 {{no.1}}、{{no.2}}、{{no.3}}.',\n    }\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时，若我们比较 {{focus1}} 和 {{focus2}} 在 {{agg}} {{measure}} 上的差异，它们相差 {{parameter}}.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时， {{focus1}}和 {{focus2}} 在 {{agg}} {{measure}} 上的差值为 {{parameter}}.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，如果比较 {{agg}} {{measure}}， {{focus1}} 比 {{focus2}}要 {{高/低}} {{parameter}}.',\n    }\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时， {{agg}} {{measure}} 在不同 {{groupby}}s 上的数据分布如图所示.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时，将 {{agg}} {{measure}} 根据不同的 {{groupby}}s 进行划分，结果如图所示.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，不同 {{groupby}}s 的 {{agg}} {{measure}} 如图所示.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时， {{parameter[0]}} 的 {{agg}} {{measure}} 等于 {{parameter[1]}}，在所有的 {{groupby}}s 中是 {{focus}}.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时， {{agg}} {{measure}} 的 {{focus}} 等于 {{parameter[1]}}，其 {{groupby}} 等于 {{parameter[0]}}.',\n\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时， {{parameter[0]}} 的 {{agg}} {{measure}} 取 {{focus}}，等于 {{parameter[1]}}',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时，与其他 {{groupby}}s 相比， {{focus}} 的 {{agg}} {{measure}} 是一个异常值.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时， {{focus}} 的 {{agg}} {{measure}} 和其他 {{groupby}}s 相比有显著差异.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，相比其他 {{groupby}}s， {{focus}} 的 {{agg}} {{measure}} 存在明显差异',\n\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时， {{focus}} 的 {{agg}} {{measure}} 占全部 {{agg}} {{measure}} 的 {{parameter}}.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时， {{focus}} 占 {{agg}} {{measure}} 的 {{parameter}}.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时， {{focus}} 在 {{agg}} {{measure}} 中的占比为 {{parameter}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时，根据 {{agg}} {{measure}} 对 {{groupby}}s 进行排名，排名前三的是 {{no.1}}、{{no.2}}、{{no.3}}.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时， {{no.1}}、 {{no.2}}和{{no.3}}是 {{agg}} {{measure}}取值最高的三个 {{groupby}}s.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时， {{no.1}}、 {{no.2}}和{{no.3}}在 {{agg}} {{measure}}的取值上排名前三',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时，总体来看， {{agg}} {{measure}} 在随时间 {{parameter}}.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时， {{agg}} {{measure}} 总体呈 {{parameter}} 趋势.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，总体来看， {{agg}} {{measure}} 在随 {{groupby}} {{parameter}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时， {{agg}} {{measure}} 的值等于 {{parameter}}.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时， {{measure}} 的 {{agg}}值是 {{parameter}}.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时， {{agg}} {{measure}} 的值是 {{parameter}}.',\n    },\n]\n\nexport default templates;","import FactType from '../../constant/FactType';\nimport association from './association';\nimport categorization from './categorization';\nimport difference from './difference';\nimport distribution from './distribution';\nimport extreme from './extreme';\nimport outlier from './outlier';\nimport proportion from './proportion';\nimport rank from './rank';\nimport trend from './trend';\nimport value from './value';\n\nconst templateCount = 3;\n\nconst pickFactTemplate = function(type, id=-1) {\n    // pick randomly when id == -1\n    let templates = []\n    switch (type) {\n        case FactType.ASSOCIATION:\n            templates = association;\n            break;\n\n        case FactType.CATEGORIZATION:\n            templates = categorization;\n            break;\n\n        case FactType.DIFFERENCE:\n            templates = difference;\n            break;\n\n        case FactType.DISTRIBUTION:\n            templates = distribution;\n            break;\n\n        case FactType.EXTREME:\n            templates = extreme;\n            break;\n\n        case FactType.OUTLIER:\n            templates = outlier;\n            break;\n\n        case FactType.PROPORTION:\n            templates = proportion;\n            break;\n\n        case FactType.RANK:\n            templates = rank;\n            break;\n\n        case FactType.TREND:\n            templates = trend;\n            break;\n\n        case FactType.VALUE:\n            templates = value;\n            break;\n    \n        default:\n            break;\n    }\n    if (id === -1) {\n        id = Math.floor(Math.random() * 10)%templateCount\n    }\n    let sentence = '';\n    try {\n        sentence = templates[id].template;\n    }\n    catch(error) {\n        console.error(error);\n        console.log('wrong id:'+id)\n    }\n    return sentence;\n}\n\nexport default pickFactTemplate;","const templates = [\n    {\n        'id': 0,\n        'template': '{{Sentence A}} {{Sentence B}}',\n    },\n    {\n        'id': 1,\n        'template': '{{Sentence A}} {{Sentence B}}',\n    },\n    {\n        'id': 2,\n        'template': '{{Sentence A}} {{Sentence B}}',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{Sentence A}} However, {{Sentence B}}',\n    },\n    {\n        'id': 1,\n        'template': '{{Sentence A}} Nevertheless, {{Sentence B}}',\n    },\n    {\n        'id': 2,\n        'template': '{{Sentence A}} By contrast, {{Sentence B}}',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{Sentence A}} After that, {{Sentence B}}',\n    },\n    {\n        'id': 1,\n        'template': '{{Sentence A}} Later, {{Sentence B}}',\n    },\n    {\n        'id': 2,\n        'template': '{{Sentence A}} Subsequently, {{Sentence B}}',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{Sentence A}} The reason is {{Sentence B}}',\n    },\n    {\n        'id': 1,\n        'template': '{{Sentence A}} This is because {{Sentence B}}',\n    },\n    {\n        'id': 2,\n        'template': '{{Sentence A}} It is due to the fact that {{Sentence B}}',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{Sentence A}} Furthurmore, {{Sentence B}}',\n    },\n    {\n        'id': 1,\n        'template': '{{Sentence A}} In particular, {{Sentence B}}',\n    },\n    {\n        'id': 2,\n        'template': '{{Sentence A}} Specially, {{Sentence B}}',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{Sentence A}} In general, {{Sentence B}}',\n    },\n    {\n        'id': 1,\n        'template': '{{Sentence A}} As a whole, {{Sentence B}}',\n    },\n    {\n        'id': 2,\n        'template': '{{Sentence A}} Generally speaking, {{Sentence B}}',\n    },\n]\n\nexport default templates;","import RelationType from '../../constant/RelationType';\nimport similarity from './similarity';\nimport contrast from './contrast';\nimport temporal from './temporal';\nimport cause from './cause-effect';\nimport elaboration from './elaboration';\nimport generalization from './generalization';\n\nconst templateCount = 3;\n\nconst pickRelationTemplate = function(type, id=-1) {\n    // pick randomly when id == -1\n    let templates = []\n    switch (type) {\n        case RelationType.SIMILARITY:\n            templates = similarity;\n            break;\n\n        case RelationType.CONTRAST:\n            templates = contrast;\n            break;\n\n        case RelationType.CAUSE:\n            templates = cause;\n            break;\n\n        case RelationType.TEMPORAL:\n            templates = temporal;\n            break;\n\n        case RelationType.ELABORATION:\n            templates = elaboration;\n            break;\n\n        case RelationType.GENERALIZATION:\n            templates = generalization;\n            break;\n    \n        default:\n            templates = Array(templateCount).fill({\n                'template': '{{Sentence A}} {{Sentence B}}',\n            });\n            break;\n    }\n    if (id === -1) {\n        id = Math.floor(Math.random() * 10)%templateCount    \n    }\n    let sentence = '';\n    try {\n        sentence = templates[id].template;\n    }\n    catch(error) {\n        console.error(error);\n        console.log('wrong type:'+type)\n        console.log('wrong templates:'+templates)\n        console.log('wrong id:'+id)\n    }\n    return sentence;\n}\n\nexport default pickRelationTemplate;","import pickFactTemplate from './fact-templates';\nimport pickFactTemplateZh from './fact-templates-zh'\nimport pickRelationTemplate from './relation-templates';\nimport FactType from '../constant/FactType'\nimport { isValid } from '../view/FactEditor/helper'\nimport AggregationType from '../constant/AggregationType'\nimport _ from 'lodash'\n\nconst plur = require('plur');\nconst convertAggregation = function (aggType) {\n    switch (aggType) {\n        case AggregationType.SUM:\n            return 'total'\n\n        case AggregationType.MAX:\n            return 'maximum'\n\n        case AggregationType.MIN:\n            return 'minimum'\n\n        case AggregationType.AVG:\n            return 'average'\n\n        case AggregationType.MEDIAN:\n            return 'median'\n\n        case AggregationType.COUNT:\n            return 'count'\n\n        case AggregationType.NONE:\n            return ''\n\n        default:\n            return ''\n    }\n}\n\nconst convertAggregationZH = function (aggType) {\n    switch (aggType) {\n        case AggregationType.SUM:\n            return '总'\n\n        case AggregationType.MAX:\n            return '最大'\n\n        case AggregationType.MIN:\n            return '最小'\n\n        case AggregationType.AVG:\n            return '平均'\n        \n        case AggregationType.MEDIAN:\n            return '中'\n\n        case AggregationType.COUNT:\n            return '数量'\n\n        case AggregationType.NONE:\n            return ''\n\n        default:\n            return ''\n    }\n}\n\nconst convertMeasure = function (measure) {\n    if (measure.aggregate === \"count\") return \"\"\n    else return measure.field.toLowerCase();\n}\n\nconst convertGroupby = function (groupby, param = 'single') {\n    let gb = groupby[0]\n    if (param === 'single')\n        return gb.toLowerCase()\n    else if (param === 'plural') {\n        if (gb.indexOf(' of ') !== -1) {\n            let gbWords = gb.split(\" \")\n            let gbWordIndex = gbWords.indexOf(\"of\") - 1\n            if (gbWordIndex > -1) {\n                let plurWord = plur(gbWords[gbWordIndex], 2)\n                return gb.replace(gbWords[gbWordIndex], plurWord)\n            }\n        } else\n            return plur(gb, 2).toLowerCase()\n    }\n}\n\n// for value/difference/categorization\nexport const formatNum = function (num) {\n    num = (num || 0).toString();\n    let number = 0,\n        floatNum = '',\n        intNum = '';\n    if (num.indexOf('.') > 0) {\n        number = num.indexOf('.');\n        floatNum = num.substr(number);\n        intNum = num.substring(0, number);\n    } else {\n        intNum = num;\n    }\n    let result = [],\n        counter = 0;\n    intNum = intNum.split('');\n\n    for (let i = intNum.length - 1; i >= 0; i--) {\n        counter++;\n        result.unshift(intNum[i]);\n        if (!(counter % 3) && i !== 0) { result.unshift(','); }\n    }\n    return result.join('') + floatNum || '';\n}\n\nconst genFactSubspace = function (fact, template) {\n    let subspace = '';\n    if (fact.subspace.length) {\n        fact.subspace.map((key, i) => { return subspace += `${i === 0 ? ' ' : ' and '}the ${key.field} is ${key.value}` })\n        template = template.replace(\"{{subspace}}\", subspace);\n    } else {\n        template = template.replace(\", when {{subspace}}\", '');\n        template = template.replace(\" when {{subspace}}\", '');\n        template = template.replace(\" in case of {{subspace}}\", '');\n        template = template.replace(\" given {{subspace}}\", '');\n        template = template.replace(\"When {{subspace}}, \", '');\n        template = template.replace(\"Given {{subspace}}, \", '');\n        template = template.replace(\"In case of {{subspace}}, \", '');\n        template = template.replace(/^\\S/, s => s.toUpperCase())\n    }\n    return template\n}\nconst genFactSubspaceZh = function (fact, template) {\n    let subspace = '';\n    if (fact.subspace.length) {\n        fact.subspace.map((key, i) => { return subspace += ` ${i === 0 ? ' ' : ' 和 '} ${key.field} 是 ${key.value} ` })\n        template = template.replace(\"{{subspace}}\", subspace);\n    } else {\n        template = template.replace(\"在{{subspace}}中，\", '');\n        template = template.replace(\" 在{{subspace}}中\", '');\n        template = template.replace(\"，当{{subspace}}时\", '');\n        template = template.replace(\"当{{subspace}}时，\", '');\n        template = template.replace(\"当{{subspace}}时\", '');\n    }\n    return template\n}\n\nexport const genFactSentence = function (_fact ,lang) {\n    if (lang === \"en-US\") {\n        if (!isValid(_fact))\n            return ''\n        let fact = _.cloneDeep(_fact)\n        let template = pickFactTemplate(fact.type);\n        let aggregate = AggregationType.NONE;\n        if (fact.measure.length > 0) {\n            aggregate = fact.measure[0].aggregate;\n        }\n        switch (fact.type) {\n            case FactType.ASSOCIATION:\n                template = template.replace(\"{{measure1}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{measure2}}\", convertMeasure(fact.measure[1]));\n                template = template.replace(\"{{agg1}}\", convertAggregation(fact.measure[0].aggregate));\n                template = template.replace(\"{{agg2}}\", convertAggregation(fact.measure[1].aggregate));\n                template = genFactSubspace(fact, template)\n                if (fact.parameter !== '') {\n                    if(Number.parseFloat(fact.parameter)>0) template = template.replace(\"{{positive/negative}}\", \"positive\");\n                    else template = template.replace(\"{{positive/negative}}\", \"negative\");\n                    template = template.replace(\"{{parameter}}\", formatNum(Number.parseFloat(fact.parameter).toFixed(3)));\n                }\n                break;\n\n            case FactType.CATEGORIZATION:\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby, 'plural'));\n                template = genFactSubspace(fact, template)\n                if (fact.parameter.length) {\n                    template = template.replace(\"{{parameter}}\", formatNum(fact.parameter.length));\n                    let parameterList = ''\n                    fact.parameter.forEach((d, i) => {\n                        parameterList += `${i === 0 ? '' : ','} ${d}`\n                    });\n                    template = template.replace(\"{{no.1}}, {{no.2}}, {{no.3}}\", parameterList);\n                  \n                }\n                if (fact.focus.length) {\n                    if (template.indexOf(\". {{focus}}\") > -1) {\n                        let focusValue = fact.focus[0].value.slice(0, 1).toUpperCase() + fact.focus[0].value.slice(1)\n                        template = template.replace(\"{{focus}}\", focusValue);\n                    } else {\n                        template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                    }\n                } else {\n                    template = template.replace(\", and {{focus}} needs to pay attention\", \"\");\n                    template = template.replace(\", among which {{focus}} needs to pay attention\", \"\");\n                    template = template.replace(\". {{focus}} needs to pay attention\", \"\");\n                }\n                break;\n\n            case FactType.DIFFERENCE:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                if (fact.focus.length >= 2) {\n                    template = template.replace(\"{{focus1}}\", fact.focus[0].value);\n                    template = template.replace(\"{{focus2}}\", fact.focus[1].value);\n                }\n                template = genFactSubspace(fact, template)\n                if (fact.parameter !== '') {\n                    if(typeof(fact.parameter)===\"number\"){\n                        if(fact.parameter>0)  template = template.replace(\"{{higher/lower}}\", 'higher');\n                        else template = template.replace(\"{{higher/lower}}\", 'lower');\n                        template = template.replace(\"{{parameter}}\", formatNum(fact.parameter));\n                    }\n                    else{\n                        template = template.replace(\"{{higher/lower}}\", fact.parameter[0]);\n                        template = template.replace(\"{{parameter}}\", formatNum(fact.parameter[1]));\n                    }\n                    \n                }\n                break;\n\n            case FactType.DISTRIBUTION:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby, 'plural'));\n                template = template.replace(\"{{groupby}}\", convertGroupby(fact.groupby));\n                template = genFactSubspace(fact, template)\n                if (fact.focus.length) {\n                    template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                } else {\n                    template = template.replace(\" and {{focus}} needs to pay attention\", \"\");\n                }\n                break;\n\n            case FactType.EXTREME:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby, 'plural'));\n                template = template.replace(\"{{groupby}}\", convertGroupby(fact.groupby));\n                template = genFactSubspace(fact, template)\n                if (fact.focus.length) {\n                    if (fact.focus[0].extremeFocus !== undefined && fact.focus[0].extremeValue !== undefined) {\n                        if (fact.focus[0].extremeFocus === 'min') { template = template.replace(\"{{focus}}\", 'minimum'); }\n                        else { template = template.replace(\"{{focus}}\", 'maximum'); }\n                        template = template.replace(\"{{parameter[0]}}\", fact.focus[0].value);\n                        template = template.replace(\"{{parameter[1]}}\", formatNum(Math.round(fact.parameter[1] * 100) / 100));\n\n                    } else if (fact.parameter.length) {\n                        if (fact.parameter[0] === 'min') { template = template.replace(\"{{focus}}\", 'minimum'); }\n                        else { template = template.replace(\"{{focus}}\", 'maximum'); }\n                        template = template.replace(\"{{parameter[0]}}\", fact.focus[0].value);\n                        template = template.replace(\"{{parameter[1]}}\", formatNum(fact.parameter[1]));\n                    }\n                }\n                break;\n\n            case FactType.OUTLIER:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby, 'plural'));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = genFactSubspace(fact, template)\n                if (fact.focus.length) template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                break;\n\n            case FactType.PROPORTION:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = genFactSubspace(fact, template)\n                if (fact.focus.length) template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                if (fact.parameter) template = template.replace(\"{{parameter}}\", fact.parameter);\n                break;\n\n            case FactType.RANK:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby, 'plural'));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby, 'plural'));\n                template = genFactSubspace(fact, template)\n                if (fact.parameter.length >= 3) {\n                    template = template.replace(\"{{parameter}}\", formatNum(fact.parameter.length));\n                    template = template.replace(\"{{no.1}}\", ` ${fact.parameter[0]}`);\n                    template = template.replace(\"{{no.2}}\", fact.parameter[1]);\n                    if (fact.parameter.length === 3) {\n                        template = template.replace(\"{{no.3}}\", fact.parameter[2]);\n                    } else if (fact.parameter.length > 3) {\n                        template = template.replace(\"{{no.3}}\", fact.parameter[2]);\n                    } else if (fact.parameter.length === 2) {\n                        template = template.replace(\", {{no.3}}\", '');\n                    }\n                } else {\n                    template = ''\n                }\n                break;\n\n            case FactType.TREND:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby, 'plural'));\n                template = genFactSubspace(fact, template)\n                if (fact.parameter) {\n                    template = template.replace(\"{{parameter}}\", ` ${fact.parameter} `);\n                    if (fact.parameter === 'increasing') {\n                        template = template.replace(\"a/an\", 'an');\n                    } else {\n                        template = template.replace(\"a/an\", 'a');\n                    }\n                }\n                if (fact.focus.length) {\n                    template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                } else {\n                    template = template.replace(\" and the value of {{focus}} needs to pay attention\", \"\");\n                }\n                break;\n\n            case FactType.VALUE:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregation(aggregate));\n                template = genFactSubspace(fact, template)\n                if (fact.focus.length) template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                if (fact.parameter !== '') template = template.replace(\"{{parameter}}\", formatNum(fact.parameter));\n                break;\n\n            default:\n                break;\n        }\n        template = template.slice(0, 1).toUpperCase() + template.slice(1)\n        return template;\n    } else {\n        if (!isValid(_fact))\n            return ''\n        let fact = _.cloneDeep(_fact)\n        let template = pickFactTemplateZh(fact.type);\n        let aggregate = AggregationType.NONE;\n        if (fact.measure.length > 0) {\n            aggregate = fact.measure[0].aggregate;\n        }\n        switch (fact.type) {\n            case FactType.ASSOCIATION:\n                template = template.replace(\"{{measure1}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{measure2}}\", convertMeasure(fact.measure[1]));\n                template = template.replace(\"{{agg1}}\", convertAggregationZH(fact.measure[0].aggregate));\n                template = template.replace(\"{{agg2}}\", convertAggregationZH(fact.measure[1].aggregate));\n                template = genFactSubspaceZh(fact, template)\n                if (fact.parameter !== '') {\n                    if(Number.parseFloat(fact.parameter)>0) template = template.replace(\"{{正/负}}\", \"正\");\n                    else template = template.replace(\"{{正/负}}\", \"负\");\n                    template = template.replace(\"{{parameter}}\", formatNum(Number.parseFloat(fact.parameter).toFixed(3)));\n                }\n                break;\n\n            case FactType.CATEGORIZATION:\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby,'plural'));\n                template = template.replace(\"{{groupby}}\", convertGroupby(fact.groupby));\n                template = genFactSubspaceZh(fact, template)\n                if (fact.parameter.length) {\n                    template = template.replace(\"{{parameter}}\", ` ${formatNum(fact.parameter.length)} `);\n                    let parameterList = ''\n                    fact.parameter.forEach((d, i) => {\n                        parameterList += `${i === 0 ? '' : ','} ${d}`\n                    });\n                    template = template.replace(\"{{no.1}}、{{no.2}}、{{no.3}}\", ` ${parameterList}`);\n                    // template = template.replace(\"{{no.1}}\", fact.parameter[0]);\n                    // template = template.replace(\"{{no.2}}\", fact.parameter[1]);\n                    // if (fact.parameter.length === 3) {\n                    //     template = template.replace(\"{{no.3}}\", fact.parameter[2]);\n                    // } else if (fact.parameter.length > 3) {\n                    //     template = template.replace(\"{{no.3}}\", fact.parameter[2] + ', etc');\n                    // } else if (fact.parameter.length === 2) {\n                    //     template = template.replace(\", {{no.3}}\", '');\n                    // }\n                }\n                if (fact.focus.length) {\n                    if (template.indexOf(\". {{focus}}\") > -1) {\n                        let focusValue = fact.focus[0].value.slice(0, 1).toUpperCase() + fact.focus[0].value.slice(1)\n                        template = template.replace(\"{{focus}}\", focusValue);\n                    } else {\n                        template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                    }\n                } else {\n                    template = template.replace(\"，其中{{focus}}需要引起注意\", \"\");\n                }\n                break;\n\n            case FactType.DIFFERENCE:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby,'plural'));\n                if (fact.focus.length >= 2) {\n                    template = template.replace(\"{{focus1}}\", fact.focus[0].value);\n                    template = template.replace(\"{{focus2}}\", fact.focus[1].value);\n                }\n                template = genFactSubspaceZh(fact, template)\n                \n                if (fact.parameter !== '') {\n                    if(fact.parameter>0)  template = template.replace(\"{{高/低}}\", '高');\n                    else template = template.replace(\"{{高/低}}\", '低');\n                    template = template.replace(\"{{parameter}}\", formatNum(fact.parameter));\n                }\n                break;\n\n            case FactType.DISTRIBUTION:\n              \n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby,'plural'));\n                template = genFactSubspaceZh(fact, template)\n\n                if (fact.focus.length) {\n                    template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                } else {\n                    template = template.replace(\"，其中{{focus}}需要引起注意\", \"\");\n                }\n                break;\n\n            case FactType.EXTREME:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                // template = template.replace(\"{{agg}}\", '');\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby,'plural'));\n                template = template.replace(\"{{groupby}}\", convertGroupby(fact.groupby));\n                template = genFactSubspaceZh(fact, template)\n                if (fact.focus.length) {\n                    if (fact.focus[0].extremeFocus !== undefined && fact.focus[0].extremeValue !== undefined) {\n                        if (fact.focus[0].extremeFocus === 'min') { template = template.replace(\"{{focus}}\", '最小'); }\n                        else { template = template.replace(\"{{focus}}\", '最大'); }\n                        template = template.replace(\"{{parameter[0]}}\", fact.focus[0].value);\n                        template = template.replace(\"{{parameter[1]}}\", formatNum(Math.round(fact.parameter[1] * 100) / 100));\n\n                    } else if (fact.parameter.length) {\n                        if (fact.parameter[0] === 'min') { template = template.replace(\"{{focus}}\", '最小'); }\n                        else { template = template.replace(\"{{focus}}\", '最大'); }\n                        template = template.replace(\"{{parameter[0]}}\", fact.focus[0].value);\n                        template = template.replace(\"{{parameter[1]}}\", formatNum(fact.parameter[1]));\n                    }\n                }\n                break;\n\n            case FactType.OUTLIER:\n                \n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby,'plural'));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby,'plural'));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                template = genFactSubspaceZh(fact, template)\n                \n                if (fact.focus.length) template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                break;\n\n            case FactType.PROPORTION:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                // template = template.replace(\"{{groupby}}\", convertGroupby(fact.groupby,'plural'));\n                template = genFactSubspaceZh(fact, template)\n                if (fact.focus.length) template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                if (fact.parameter) template = template.replace(\"{{parameter}}\", fact.parameter);\n               \n                break;\n\n            case FactType.RANK:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                template = template.replace(\"{{groupby}}s\", convertGroupby(fact.groupby,'plural'));\n                template = genFactSubspaceZh(fact, template)\n                if (fact.parameter.length >= 3) {\n                    // template = template.replace(\"{{parameter}}\", formatNum(fact.parameter.length));\n                    template = template.replace(\"{{no.1}}\", fact.parameter[0]);\n                    template = template.replace(\"{{no.2}}\", fact.parameter[1]);\n                    if (fact.parameter.length === 3) {\n                        template = template.replace(\"{{no.3}}\", fact.parameter[2]);\n                    } else if (fact.parameter.length > 3) {\n                        template = template.replace(\"{{no.3}}\", fact.parameter[2]);\n                    } else if (fact.parameter.length === 2) {\n                        template = template.replace(\"、{{no.3}}\", '');\n                    }\n                } else {\n                    template = ''\n                }\n                break;\n\n            case FactType.TREND:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                template = template.replace(\"{{groupby}}\", convertGroupby(fact.groupby));\n                template = genFactSubspaceZh(fact, template)\n                if (fact.parameter) {\n                    if (fact.parameter === 'increasing') {\n                        template = template.replace(\"{{parameter}}\", '增长');\n                    } else {\n                        template = template.replace(\"{{parameter}}\", '下降');\n                    }\n                }\n                if (fact.focus.length) {\n                    template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                } else {\n                    template = template.replace(\"，其中{{focus}}需要引起注意\", \"\");\n                }\n                break;\n\n            case FactType.VALUE:\n                template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n                template = template.replace(\"{{agg}}\", convertAggregationZH(aggregate));\n                // template = template.replace(\"{{groupby}}\", convertGroupby(fact.groupby));\n                template = genFactSubspaceZh(fact, template)\n                // if (fact.focus.length) template = template.replace(\"{{focus}}\", fact.focus[0].value);\n                if (fact.parameter !== '') template = template.replace(\"{{parameter}}\", formatNum(fact.parameter));\n                \n                break;\n\n            default:\n                break;\n        }\n        template = template.slice(0, 1).toUpperCase() + template.slice(1)\n        return template;\n    }\n}\n\n\nexport const genStoryText = function (facts, relations) {\n    let template;\n    let storyText = '';\n    let pairLength = parseInt(facts.length / 2)\n    //console.log(\"relations\", facts, relations)\n    for (let i = 0; i < pairLength; i++) {\n        if (facts[i]) {\n            template = pickRelationTemplate(relations[i * 2 + 1])\n            // template = template.replace(\"{{Sentence A}}\", facts[i * 2].script());\n            // template = template.replace(\"{{Sentence B}}\", facts[i * 2 + 1].script());\n            template = template.replace(\"{{Sentence A}}\", facts[i * 2].generatedScript);\n            template = template.replace(\"{{Sentence B}}\", facts[i * 2 + 1].generatedScript);\n            storyText += template + ' '\n        }\n    }\n    if (facts.length % 2) {\n        //storyText += facts[facts.length - 1].script()\n        storyText += facts[facts.length - 1].generatedScript\n    }\n    //console.log(\"storyText\", storyText)\n    return storyText\n}\n\nexport const genSubtitle = function (fact,lang) {\n    if (lang === \"en-US\") {\n        let title;\n        if (!isValid(fact))\n            return ''\n\n        title = 'The ' + fact.type\n        switch (fact.type) {\n            case FactType.ASSOCIATION:\n                title += ' of ' + fact.measure[0].field + ' and ' + fact.measure[1].field\n                break;\n            case FactType.CATEGORIZATION:\n                // title += ' of ' + fact.groupby[0]\n                title = fact.groupby[0]\n                break;\n\n            case FactType.DIFFERENCE:\n                title += ' between ' + fact.focus[0].value + ' and ' + fact.focus[1].value\n                break;\n            case FactType.DISTRIBUTION:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.EXTREME:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.OUTLIER:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.PROPORTION:\n                title += ' of ' + fact.focus[0].value\n                break;\n            case FactType.RANK:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.TREND:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.VALUE:\n                title = 'The ' + convertAggregation(fact.measure[0].aggregate) + ' ' + fact.measure[0].field\n                break;\n            default:\n                break;\n        }\n        if (fact.subspace.length) {\n            let subspace = '';\n            fact.subspace.map((key, i) => { return subspace += ` in ${key.value}` })\n            title += subspace;\n        }\n        return title;\n    }else{\n        let title='';\n        if (!isValid(fact))\n            return ''\n        if (fact.subspace.length) {\n                let subspace = '';\n                fact.subspace.map((key, i) => { return subspace += ` ${key.value}` })\n                title += '在 '+ subspace +'中，';\n        }\n        // title = 'The ' + fact.type\n        switch (fact.type) {\n            case FactType.ASSOCIATION:\n                title += fact.measure[0].field + ' 和 ' + fact.measure[1].field + '的相关性'\n                break;\n            case FactType.CATEGORIZATION:\n                // title += ' of ' + fact.groupby[0]\n                title += fact.groupby[0]+'的分类情况'\n                break;\n\n            case FactType.DIFFERENCE:\n                title += fact.focus[0].value + ' 和 ' + fact.focus[1].value +'的差异'\n                break;\n            case FactType.DISTRIBUTION:\n                title += fact.measure[0].field + '的分布'\n                break;\n            case FactType.EXTREME:\n                title += fact.measure[0].field + '的极值'\n                break;\n            case FactType.OUTLIER:\n                title += fact.measure[0].field+'的异常值'\n                break;\n            case FactType.PROPORTION:\n                title +=  fact.focus[0].value + '的占比'\n                break;\n            case FactType.RANK:\n                title += fact.measure[0].field +'的排名'\n                break;\n            case FactType.TREND:\n                title += fact.measure[0].field +'的趋势'\n                break;\n            case FactType.VALUE:\n                switch (convertAggregation(fact.measure[0].aggregate)) {\n                    case AggregationType.SUM:\n                        title += fact.measure[0].field +'的总值'\n                        break;\n            \n                    case AggregationType.MAX:\n                        title += fact.measure[0].field +'的最大值'\n                        break;\n            \n                    case AggregationType.MIN:\n                        title += fact.measure[0].field +'的最小值'\n                        break;\n            \n                    case AggregationType.AVG:\n                        title += fact.measure[0].field +'的平均值'\n                        break;\n            \n                    case AggregationType.COUNT:\n                        title += fact.measure[0].field +'的数量'\n                        break;\n            \n                    case AggregationType.NONE:\n                        title += fact.measure[0].field +'的值'\n                        break;\n            \n                    default:\n                        title += fact.measure[0].field +'的值'\n                        break;\n                        \n                }                \n\n            default:\n                break;\n        }\n        \n        return title;\n    }\n    \n   \n}\n\n\nexport const genTitle = function (fileName) {\n    let title;\n    switch (fileName) {\n        case 'CarSales.csv':\n            title = 'Car Sales'\n            break;\n\n        case 'nCoV2020.csv':\n            title = 'COVID-19'\n            break;\n\n        case 'deadstartup.csv':\n            title = 'Startup Failures'\n            break;\n\n        default:\n            if (fileName.indexOf('.') > 0) {\n                let number = fileName.indexOf('.');\n                // let csv = fileName.substr(number);\n                title = fileName.substring(0, number);\n            } else {\n                title = fileName\n            }\n            break;\n    }\n    return title\n}\n","const OperationType = {\n    BEFORE_UPLOAD: 0,\n    UPLOADIND: 1,\n    UPLOADED: 2,\n    GENERATING: 3,\n    GENERATED: 4,\n    FAILED: 5,\n    FILE_LARGE: 6,\n    ADDING: 7,\n    ADD_FAILED: 8,\n    ADDED: 9,\n    PUBLISHED: 10\n}\n\nexport default OperationType;","import React from 'react';\nimport ChartType from '../constant/ChartType';\nimport getSupportedChartTypes from '@/tool/getSupportedChartTypes';\nimport Chart from '../Chart';\nimport { isValid, customizeFact } from '@/view/FactEditor/helper';\nimport _ from 'lodash';\n\nexport const facts2charts = (facts, shema, chartDiversity = 0) => {\n    for (let i = 0; i < facts.length; i++) {\n        let supportedChartTypes = getSupportedChartTypes(shema, facts[i]);\n        let choiceCount = parseInt((supportedChartTypes.length + 1) * chartDiversity);\n        let choicedChartTypes = supportedChartTypes.slice(0, choiceCount + 1);\n        facts[i].chart = choicedChartTypes[Math.floor(Math.random() * choicedChartTypes.length)].chart;\n    }\n    return facts\n}\nexport const getChoice = (length) => {\n    let choice = Math.round(Math.random() * (length - 1));\n    return choice;\n}\n\n\nexport const getFactChartType = (shema, fact, choice = 0) => {\n    let supportedChartTypes = getSupportedChartTypes(fact, shema);\n    if (supportedChartTypes.length === 0) return null;\n    return supportedChartTypes[getChoice(supportedChartTypes.length)].chart;\n}\n\nconst getvischartype = (chart) => {\n    let chartType = chart;\n    switch (chart) {\n        case ChartType.AREA_CHART:\n            chartType = \"areachart\";\n            break;\n        case ChartType.BUBBLE_CHART:\n            chartType = \"bubblechart\";\n            break;\n        case ChartType.COLOR_FILLING_MAP:\n            chartType = \"filledmap\";\n            break;\n        case ChartType.BUBBLE_MAP:\n            chartType = \"bubblemap\";\n            break;\n        case ChartType.HALF_RING_CHART:\n            chartType = \"donutchart\";\n            break;\n        case ChartType.HORIZONTAL_BAR_CHART:\n            chartType = \"horizentalbarchart\";\n            break;\n\n        case ChartType.VERTICAL_BAR_CHART:\n        case ChartType.STACKED_BAR_CHART:\n        case ChartType.VERTICAL_DIFFERENCE_BAR_CHART:\n        case ChartType.ISOTYPE_BAR_CHART:\n        case ChartType.VERTICAL_DIFFERENCE_ARROW_CHART:\n            chartType = \"verticalbarchart\"\n            break;\n        case ChartType.LINE_CHART:\n        case ChartType.STACKED_LINE_CHART:\n            chartType = \"linechart\";\n            break;\n        case ChartType.PROPORTION_ISOTYPE_CHART:\n        case ChartType.PIE_CHART:\n            chartType = \"piechart\";\n            break;\n        case ChartType.PROGRESS_BAR_CHART:\n            chartType = \"progresschart\";\n            break;\n        case ChartType.RING_CHART:\n            chartType = \"donutchart\";\n            break;\n        case ChartType.SCATTER_PLOT:\n            chartType = \"scatterplot\";\n            break;\n        case ChartType.TEXT_CHART:\n            chartType = \"textchart\";\n            break;\n        case ChartType.TREE_MAP:\n            chartType = \"treemap\";\n            break;\n        default:\n            break;\n    }\n    return chartType;\n}\n\nexport const fact2chart = function (specData, uuid, fact, data, size, compound = false) {\n    if (!fact.chart || fact.chart === \"\") {\n        fact.chart = getFactChartType(specData.schema, fact);//针对生成页面的chart\n    }\n\n    let chart = fact.chart;\n    // if (compound) {\n    //     chart = fact.compoundChart;\n    // }\n\n    if (chart === ChartType.ISOTYPE_BAR_CHART) {\n        fact.chart = ChartType.VERTICAL_BAR_CHART;\n    }\n    fact = customizeFact(fact);//important\n    if (!fact.chart || !isValid(fact)) {\n        console.log(\"no valid\", fact)\n        return null;\n    }\n    let specFact = {\n        ...fact,\n        breakdown: fact.groupby.map(d => {\n            return {\n                \"field\": d\n            }\n        })\n    }\n\n    //console.log(\"size\", size)\n    let specChart = {\n        size: size,\n        type: getvischartype(chart),\n        style: \"business\",\n        duration: 0,\n        showSuggestion: true,//显示图表Unsupported\n    }\n    specData = {\n        ...specData,\n        values: data,\n    }\n    let specNew = {\n        data: specData,\n        fact: specFact,\n        chart: specChart,\n    }\n    return <Chart spec={_.cloneDeep(specNew)} uuid={uuid} />\n}\n","export default {\n    SUM: 'sum',\n    MAX: 'max',\n    MIN: 'min',\n    AVG: 'avg',\n    MEDIAN:'median',\n    COUNT: 'count',\n    // NONE: 'none'\n}","export default {\n    \"FACTSHEET\": \"Factsheet\",\n    \"DASHBOARD\": \"Dashboard\",\n    \"DATACOMICS\": \"DataComics\",\n    \"DATAVIDEOS\": \"DataVideos\",\n    \"H5\": \"H5\",\n    \"FACTSHEETNEW\":\"FactsheetNew\"\n}","import ActionType from './type';\n\n\nexport const updateUserInfo = (userInfo) => ({\n    type: ActionType.UPDATE_USER_INFO,\n    userInfo\n})\n\nexport const updateOperation = (operateState) => ({\n    type: ActionType.UPDATE_USER_OPERATION,\n    operateState\n})\n\nexport const updateCovertType = (convertType) => ({\n    type: ActionType.UPDATE_CONVERT_TYPE,\n    convertType\n})\n\nexport const updateLocale = (currentLocale) => ({\n    type: ActionType.UPDATE_LOCALE,\n    currentLocale\n})\n\n\nexport const updateLastPage = (lastPage) => ({\n    type: ActionType.UPDATE_LAST_PAGE,\n    lastPage\n})\nexport const updateClickedMenus = (item) => ({\n    type: ActionType.UPDATE_CLICKED_MENUE,\n    item\n})\n\nexport const setCollapsed = (isCollapsed) => ({\n    type: ActionType.UPDATE_COLLAPSED,\n    isCollapsed\n})\nexport const setLeftCollapsed = (isLeftCollapsed) => ({\n    type: ActionType.UPDATE_LEFT_COLLAPSED,\n    isLeftCollapsed\n})\nexport const hiddenHorizontalMenuView = (isHidden) => ({\n    type: ActionType.HIDDEN_HORIZON_MEMUE,\n    isHidden\n})\n\nexport const updateHeaderbarToggle = (isChangeToggle) => (\n    {\n        type: ActionType.UPDATE_HEADERBAR_TOGGLE,\n        isChangeToggle\n    }\n)\nexport const openLeftFloatMenue = (isOpenLeftFloatMenue) => (\n    {\n        type: ActionType.OPEN_LEFT_FOLAT_MENUE,\n        isOpenLeftFloatMenue\n    }\n)\n\nexport const changeLayOutType = (layoutType) => ({\n    type: ActionType.CHANGE_LAYOUT_TYPE,\n    layoutType\n})\n\nexport const changeUserEnd = (isMobilephoneEnd) => ({\n    type: ActionType.CHANGE_USEREND,\n    isMobilephoneEnd\n})\n\nexport const windowUpScroller = (isWindowUpScroll) => ({\n    type: ActionType.WINDOW_UP_SCROLL,\n    // type,\n    isWindowUpScroll\n})\nexport const updateUserEnd = (userEndSize) => ({\n    type: ActionType.UPDATA_USER_END_SIZE,\n    userEndSize\n})\nexport const updateStoryCardNumber = (cardNumber) => ({\n    type: ActionType.UPDATE_STORY_CARD_NUMBER,\n    cardNumber\n})\n\nexport const isHiddenCommentAStory = (isHidden) => ({\n    type: ActionType.IS_HIDDEN_COMMENT_STORY,\n    isHidden\n})\nexport const updateOperateRelatedId = ({ did, sid }) => ({\n    type: ActionType.UPDATE_SID,\n    OperateRelatedId: { did, sid }\n})\nexport const shareStory = (isShareStory) => ({\n    type: ActionType.SHARE_STORY,\n    isShareStory\n})\nexport const loadingGeneratingView = (isShowGenerate) => ({\n    type: ActionType.IS_GENERATE_STORY,\n    isShowGenerate\n})\n\nexport const toNewPage = (newPage) => ({\n    type: ActionType.TO_NEW_PAGE,\n    newPage\n})\nexport const isClickedLogout = (isLogOut) => ({\n    type: ActionType.IS_CLICKED_LOGOUT,\n    isLogOut\n})\nexport const leaveCreatePage = (isLeaving) => ({\n    type: ActionType.LEAVE_CREATE_PAGE,\n    isLeaving\n})\nexport const interruptGenerateProcess = (isInterruptProcess) => ({\n    type: ActionType.IS_INTERRUPT_PROCESS,\n    isInterruptProcess\n})\nexport const changeFactsheetLayoutType = (factsheetLayoutType) =>({\n    type:ActionType.CHANGE_FACTSHEET_LAYOUT_TYPE,\n    factsheetLayoutType\n})","export default {\n    STORYLINE_WEB: 'storylineweb',\n    FACTSHEET: 'factsheet',\n    SLIDER_MOBILE: 'slidermobile',\n    STORY_TEXT: 'storytext',\n    TABLE: 'table'\n}","import React, { Component } from 'react';\nimport { AutoVis } from \"calliope-chart\";\n\nexport default class Chart extends Component {\n\n    componentDidMount() {\n        const id = this.props.uuid;\n        let spec = this.props.spec;\n        let container = id ? `#vischart_${id}` : \"#demo-chart\";\n        this.autovis = new AutoVis();\n        this.autovis.container(container);\n        this.autovis.load(spec);\n        this.autovis.generate();\n    }\n\n    componentDidUpdate() {\n        const id = this.props.uuid;\n        let container = id ? `#vischart_${id}` : \"#demo-chart\";\n        let spec = this.props.spec;\n        this.autovis.container(container);\n        this.autovis.load(spec);\n        this.autovis.generate();\n    }\n\n    render() {\n        \n        let height = 640, width = 640;\n        if (this.props.spec.chart) {\n            let size = this.props.spec.chart.size;\n            switch (size) {\n                case 'wide':\n                    height = 220;\n                    width = 560;\n                    break;\n                case 'middle':\n                    height = 200;\n                    width = 360;\n                    break;\n                case 'small':\n                    height = 150;\n                    width = 235;\n                    break;\n\n                default:\n                    break;\n            }\n        }\n        const id = this.props.uuid ? this.props.uuid : \"demo-chart\";\n        return (\n            <div id={id ? `vischart_${id}` : 'demo-chart'} style={{\n                height: height, width: width,\n                // borderStyle: 'solid',\n                // borderWidth: 1,\n                // borderColor: 'black',\n                margin: \"0 auto\"\n            }} />\n        )\n    }\n}\n"],"sourceRoot":""}